# TasQ Flow 要件定義書　第2版


---

## 概要


---

## Claude の整理作業メモ

### 第2版の主要問題点分析結果

**1. 重複セクション（統合対象）:**
- 祝日・イベント管理: セクション5-7, 18-22, 33-37, 47-50（四重重複）
- タスク管理: セクション9-10, 23-26, 38-41（三重重複）
- メンバータブ・ヒートマップ: セクション14-15, 28-29, 42-46（三重重複）

**2. 矛盾・整合性の問題:**
- カレンダー機能とガントチャート機能の統合仕様が不明確
- 月表示同期とタスク期間表示の相互作用が未定義
- 第2版の238セクションは情報量過多で可読性に問題

**3. 統合方針:**
- オリジナル仕様書（46セクション）の構造を基盤とする
- 第2版の有効な新機能（カレンダー表示、多言語対応等）を適切に統合
- 重複削除により100セクション程度の管理可能な文書に再構成

---

## 1. 月表示位置とスナップ挙動

### 1.1 月表示位置
- 月表示（"YYYY年MM月"などの形式を含む月の表記を指す）は、画面の左右バランスが取れた中央付近に配置する。
- スクロール操作時、月表示は対応する「月の初日」または「月の最終日」とスナップし、該当する日付セルとともに滑らかに移動する。

### 1.2 スクロール方向と挙動詳細
- 右から左方向のスクロール（未来日程確認時）
  - 月の初日セルとともに月表示が画面内へ現れる。
  - 月表示は初日セル上にスナップし、左方向へ滑らかに移動。
  - 画面中央に月の最終日が到達すると、その月の月表示はスナップ解除され左方向へ画面外へ退場。
- 左から右方向のスクロール（過去日程確認時）
  - 月の最終日セルとともに月表示が画面内へ現れる。
  - 月表示は最終日セル上にスナップし、右方向へ滑らかに移動。
  - 画面中央に月の初日が到達すると、その月の月表示はスナップ解除され右方向へ画面外へ退場。

### 1.3 入れ替わりタイミングのイメージ
- 月表示は月末日と翌月初日の間でニュートンのゆりかごのようにリズム感と連続性を持って入れ替わる。
- 月表示が重ならないよう、必要に応じて初日・最終日セルから適切な余白を持つ配置とする。

### 1.4 一貫仕様
- 例示は6月・7月で行ったが、すべての月において同一のスナップ仕様とする。
- 月と月の境界線は月初・月末セルと完全に同期して移動する。
- 祝日・週末・イベントがあっても動作に変更はなく、見た目の装飾のみ別途指定。

---

## 2. 月表示の仕様とユーザー設定

### 2.1 月表示フォーマット
- 月表示は多言語対応を想定し以下のフォーマットをサポートする。
  - 日本語："YYYY年MM月"
  - 英語："YYYY/MM"
- 将来的な拡張性を考慮し、「月表示」という用語で統一。

### 2.2 言語切り替え
- ユーザー設定画面で日本語・英語の切り替えが可能。
- カレンダー部右クリックメニューからも言語変更を簡単に行える。

---

## 3. スナップの厳密度とアニメーション

- 日付セルと月表示は完全同期で動作し、視覚的なズレはゼロとする。
- スクロール速度・慣性に応じたスムーズな連動アニメーションを実装。
- 月表示のスライドは滑らかさを重視し、カクつきは許さない。
- スケール変更時、セル幅が月表示ボックスを完全に収める場合はセル内中央に配置。

---

## 4. スケール仕様とセル制限

- 日付セルは均等幅で配置される。
- スケール変更によりセル幅の縮小・拡大が可能。
- スケールは最大縮小率・最大拡大率の上限下限を仕様で明確に定義。
- セル幅が狭くても最低限の装飾（色付け）は必ず可能。
- 拡大時は文字表示がフェードイン・アウトで滑らかに切り替わる仕様。

---

## 5. 祝日・イベントのカラーリングとカスタマイズ

### 5.1 祝日とイベントの区別
- 祝日は「祝日グループ」として一括管理されるイベント群とする。
- イベントは祝日以外のユーザーが任意に設定する予定イベント・記念日等を指す。
- 祝日もイベントの一種として扱うが、見た目や管理上区別する。

### 5.2 カラーリングの基本仕様
- 祝日・週末のカラーリングはアプリのデフォルトプリセットで自動適用される。
- ユーザーは祝日ごとにカラーを個別指定可能。
- 祝日グループ全体に対して一括でカラー変更も可能。
- イベントはグループ化が可能で、グループ単位で一括カラー変更ができる。
- 強調度（色の鮮やかさ・アクセント）はプリセットに従うが、ユーザーが最終的に色を決められる。

### 5.3 カラー表示方法
- 日付セルの下部（または目立たせやすい位置）に該当祝日・イベントの色を表示。
- セル幅が十分に広ければ文字表示も可能（フェードイン・アウト効果を利用）。
- モバイルなど狭い画面では色表示のみ優先し、文字は省略。

---

## 6. 祝日・イベントの管理機能

### 6.1 祝日の編集・追加・削除
- チェックボックス方式で祝日の追加・削除を簡単に行えるUIを用意。
- 名称編集可能。
- 連続する複数日の祝日をまとめて「ゴールデンウィーク」等のグループ名称で管理可能。
- 日本の祝日・海外祝日などのプリセットを用意し、ユーザーは切り替え・カスタム可能。
- 祝日のプリセットやカスタム祝日の設定はカレンダー部から簡易にアクセス・変更可能。

### 6.2 イベント管理
- イベントはユーザー単位で作成・管理。
- イベント一覧は祝日グループの下に表示。
- イベントはドラッグ＆ドロップで並び替え可能。
- イベントグループ（複数のイベントをまとめる単位）を自由に作成・解体可能。
- アーカイブ済みイベントは祝日の下にまとめて表示。
- 単発イベントが終了し日付が過ぎた場合は自動でアーカイブへ移動。
- ループイベント（誕生日など）は次回開催日を表示し、常に一覧に残る。

### 6.3 付箋・タグ・チェックボックス機能
- イベント・祝日に付箋を1色ずつ割り当て可能。複数付箋は複数アイコン表示。
- 付箋にホバーすると簡易ポップアップで内容を表示。
- イベントにタグ表示は付箋より優先される。
- 簡易チェックボックス機能をイベントに付加可能（ToDoとは別）。

---

## 7. イベント・祝日の提案・共有機能

### 7.1 提案の流れ
- プロジェクトチーム内で独自祝日やイベントを提案可能。
- 送信者は自身の祝日・イベントリストから、もしくは新規作成して提案。
- 受信者は通知アイコンから提案を確認し、受け入れたいものにチェックを入れて承認。

### 7.2 受信者の確認画面
- 提案された祝日・イベントと自身の既存の類似イベントを同時に閲覧可能。
- 同一日程・同一名称のイベントがある場合、比較しやすいUIで重複を視認できる。
- 重複がある場合、どちらを受け入れるか選択可能。

### 7.3 受け取り拒否と人間関係配慮
- 受信者は任意で提案の受け取り拒否はできない（設定項目は無し）。
- 通知から拒否したい提案はスルーできるが、明確な拒否ボタンは設けないことで気まずさ回避。
- 送信者は提案内容を限定でき、全員提案・個別提案が可能。
- 上司・部下などの人間関係に配慮し、通知のやりとりが過剰にならない設計。

---

## 8. 表示の細かい挙動・UI

### 8.1 日付セルのカラー表示
- 祝日やイベントのカラーは、セル下部の細いラインや薄い色付けで表示。
- カラー表示はスケール縮小時も必ず表示可能とする（最低限の視認性を保持）。
- セル内文字表示はセル幅が十分な時にのみフェードインで表示。

### 8.2 イベント・祝日のリスト表示
- リストは横長で上から並ぶ。
- 各項目左端に「カレンダー表示のオンオフ」チェックボックスを設置。
- メモアイコンは右端に配置。
- タグは付箋より表示優先度が高い。

### 8.3 付箋の表示
- 付箋アイコンは1イベントにつき1色割り当て。
- 複数付箋がある場合は複数アイコン表示。
- 表示スペース不足時は「＋〇枚」表示しホバーで詳細表示。

---

## 9. タスクバー表示仕様

### 9.1 タスクバーの基本構造
- ガントチャート上のタスクバーは、各タスクの期間を横長のバーで視覚化。
- タスクバーの色は、プリセットまたはユーザー指定のカラー設定に従う。
- タスクバーに直接メモの表示は行わない。デザインのシンプルさと視認性を優先。

### 9.2 タスクバーの外枠設定
- プリセット内で複数のパターン（枠線の太さ、色、実線・破線など）を用意。
- 開発者が管理画面で編集可能で、ユーザーはプリセット選択のみ。
- デフォルトは枠線なし。
- プリセット更新時は、該当プロジェクトチームのタスクバーに自動反映。
- 外枠の色はタスクバー色に合わせて自動設定されるが、パターン選択で変更可能。

---

## 10. ToDoタブのタスク表示・編集

### 10.1 タスク表示レイアウト
- タスクは長方形の領域内に詳細情報を表示可能。
- タスク内に簡易チェックボックスを複数配置し、タスクの状態を細かく管理できる。
- チェックボックスはタスク内部の中央付近に並べて表示し、左上ではない。
- タスクの右上にメモアイコンを配置し、クリックまたはホバーで詳細メモを閲覧・編集可能。

### 10.2 タスク内容の同期
- ガントチャートタブとToDoタブで表示されるタスクは完全に同期。
- 片方で変更した内容はリアルタイムで他方に反映される。
- 編集可能な項目は両タブで同一。

### 10.3 タスクバー・ToDoの共通仕様
- タスク名、開始・終了日、担当メンバー、タグ、付箋の表示・編集を両タブで可能。
- タスクの完了状態は簡易チェックボックスで管理。

---

## 11. 付箋管理

### 11.1 付箋の基本仕様
- 付箋はイベントやタスクに1色ずつ割り当て可能。
- 複数付箋がある場合は複数の付箋アイコンを表示。
- 付箋アイコンにホバーすると内容の簡易ポップアップを表示。
- 付箋はタスク・イベントの状態やメモを視覚的に示す役割。

### 11.2 付箋のUI表示
- ガントチャート上のタスクバーには付箋表示はしない。
- ToDoタブのタスク詳細領域やイベントリストで付箋を表示し、管理。
- 付箋の色と数は見た目で即座にわかるように表示。
- スマホ等の狭い画面では表示幅に応じて付箋表示数を動的に調整。

---

## 12. イベントリストの表示と管理

### 12.1 イベントリストのレイアウト
- 横長のリスト形式で上から並ぶ。
- 各イベントの左側にカレンダー表示のオンオフを切り替えるチェックボックスを配置。
- 項目名の下にタグを小さく表示（タグは付箋より優先）。
- 項目右端にメモアイコンを配置。

### 12.2 リスト操作性
- ドラッグ＆ドロップで自由に並べ替え可能。
- 祝日グループやアーカイブ済みイベントグループは解体不可。
- 一般イベントグループは自由に作成・解体可能。
- グループのカラー設定は親グループの設定が優先されるが、上書き時に確認ダイアログを表示。

---

## 13. 表示切り替えとフェードイン・アウト

- 文字表示はセル幅と文字数に応じて自動判定し、表示可否を決定。
- 表示切替はスケール変更時に滑らかなフェードイン・アウトで行う。
- 文字表示が困難な狭小セルではカラー表示のみ優先。
- フェード効果は視覚的に違和感がないよう細心の注意を払う。

---

## 14. メンバータブの基本仕様

### 14.1 メンバー一覧表示
- メンバータブは、メンバーの一覧を左から二番目のサイドバーに表示。
- 各メンバーの名前、役職ラベルを明示的に表示。
- メンバー名をクリックすると担当しているプロジェクト一覧が展開される。
- メンバーごとにアサインされているタスクのみ表示し、かかわりのないタスクは非表示。

### 14.2 タスクフォグ表示
- メンバーの行全体にタスクの状態を示すタスクフォグ（薄く色付け）を表示。
- タスクフォグは、タスクの負荷量に応じて濃淡を変える。

### 14.3 メンバーの空き日確認機能
- カレンダーと連動し、メンバー全員の空き日を一目で把握できるビューを提供。
- 空き日の色分けやハイライト表示で視認性向上。

---

## 15. ヒートマップ機能

### 15.1 ヒートマップの表示場所
- メンバー一覧の右端に薄い色付けで負荷量を視覚化。
- 各メンバーの抱えているタスク量を計算し、色の濃さで示す。

### 15.2 キャパシティ計算
- メンバーの最大負荷を基準に割合で色を変化させる。
- キャパオーバーの場合は赤系の強調色で警告。

---

## 16. 通知機能と受け取り許可

### 16.1 通知アイコン
- ヘッダーに通知アイコンを設置し、受信したイベントや祝日の提案を知らせる。
- 通知をクリックすると提案内容の詳細表示画面へ遷移。

### 16.2 イベント・祝日の提案受け取り
- 受信者は提案一覧を閲覧し、チェックボックスで必要なものだけ受け入れる。
- 受け入れたイベント・祝日はユーザーのリストに追加される。
- 既存の同名称・同日程イベントがある場合は警告表示し、選択を促す。

### 16.3 受け取り拒否・逃げ道案
- 受け取り拒否設定は設けず、代わりに通知の既読・未読管理で緩やかに対応。
- 人間関係の配慮として、受け取り側が通知を無視しやすいUI設計（例えば通知を後で確認できる仕組み）を実装。
- また、提案内容の受け取り期限を設定し、期限切れは自動で無効化。

---

## 17. 個人設定への導線

### 17.1 個人設定画面遷移
- メンバータブから直接「個人設定（通知・テーマ等）」へ遷移可能な導線を設置。
- 導線はヘッダー右上またはメンバーアイコンのプルダウンメニューなど、わかりやすい位置に配置。
- 設定内容は通知の管理、テーマ切替、ユーザー情報編集など。

---

## 18. 祝日・イベントの基本仕様

### 18.1 祝日・イベントの定義
- 祝日およびイベントは、カレンダーの日付セルに色付けで表示。
- 祝日は公式・プリセット祝日およびユーザー独自設定の祝日を含む。
- イベントは誕生日など祝日以外の特別日付を指す。
- 祝日もイベントも共通の「イベントリスト」に管理されるが、祝日は「祝日」グループに分類。

### 18.2 表示仕様
- 日付セル下部の細いバーに祝日・イベントカラーを表示し、過密を避ける。
- スケール拡大時に、セル内に文字情報を滑らかにフェードイン表示。
- 祝日・イベントの強調色はプリセットに従うが、ユーザー設定で上書き可能。
- 表示のON/OFFはカレンダー部のチェックボックスで制御可能。

---

## 19. 祝日・イベントリスト管理機能

### 19.1 グループ化とドラッグ&ドロップ
- 祝日・イベントはグループ化可能。
- 「祝日」「アーカイブ済み」グループは解体不可。
- ユーザー作成グループは自由に作成・解体・並べ替えが可能。
- リストのドラッグ&ドロップで直感的に順序変更。

### 19.2 カラー設定
- グループ単位のカラー設定は上書き優先。
- 個別イベントカラーはグループカラーにより上書きされる可能性あり。
- 色変更時に「親グループのみ」「グループ内すべて変更」の選択ダイアログ表示。

### 19.3 付箋・タグ・チェックボックス
- イベントには付箋色を1枚割り当て可能。
- 複数付箋は複数アイコン表示し、スペース不足時はカーソルホバーで詳細表示。
- タグは付箋より優先して表示。
- 簡易チェックボックスを付け、Todoとは別にイベントの完了管理を可能に。

---

## 20. 祝日・イベントの追加・編集機能

### 20.1 祝日の追加・削除・編集
- チェックボックス形式で祝日の追加・削除を実装。
- 名称編集、連続する複数日設定（例：「ゴールデンウィーク」）も対応。
- プリセット祝日は日本・海外の複数セットを用意。

### 20.2 ユーザー独自祝日・イベント提案機能
- ユーザーはチーム内メンバーにイベント・祝日提案可能。
- 送信時に提案内容を選択、受信側は通知アイコンから内容を確認し、チェックを付けて受け入れる。
- 受け入れは強制ではなく任意。
- 同時に既存の類似イベントを確認可能。

---

## 21. アーカイブ機能

### 21.1 アーカイブの条件
- 単発イベントが終了した場合、自動的に「アーカイブ済み」グループに移動。
- ループイベントは次回開催日を保持し、常にイベント一覧に表示。

### 21.2 アーカイブ復帰
- アーカイブ済みイベントの日時を未来に更新、またはループ設定に変更すると、自動的にイベント一覧に復帰。

### 21.3 アーカイブ表示制御
- アーカイブ済みイベントの色を薄く表示する設定をユーザーが行える。
- カレンダー画面からも簡単に切り替え可能。

---

## 22. 祝日・イベントの共有と管理

### 22.1 チーム共有と編集権限
- 祝日・イベントは個人管理が基本だが、チーム共有も可能。
- 共有設定はチーム単位で管理し、編集権限は管理者が制御。

### 22.2 受け取り拒否のUI設計（補足）
- 通知は既読管理により調整可能。
- 受け取り側が提案を無視しやすい柔軟な通知設計。

---

## 23. タスク管理の基本仕様

### 23.1 タスク情報の統一管理
- タスクバー（ガントチャート）とToDoタブは同一のタスクデータを参照・編集。
- 片方で編集した内容は即時に他方にも反映されるリアルタイム同期。
- 編集項目は両画面で完全に同一。

### 23.2 タスクバーの表示仕様
- タスクバーはガントチャート内で横長のバーとして期間を表現。
- タスクバーの色はプロジェクトチームのプリセットカラーに準拠。
- 視認性向上のため、薄い外枠線（実線・破線・太さ調整可能）を付けられる。デフォルトは枠なし。
- 外枠パターンは開発者がプリセット管理画面で設定。ユーザーは編集不可。

### 23.3 タスクバー内メモ表示禁止
- ガントチャート上のタスクバー内にメモ等の文字表示は行わない。
- デザイン性を重視し細長いバーに情報過多を避ける。

---

## 24. ToDoタブの表示仕様

### 24.1 タスク表示レイアウト
- タスクは長方形ボックスとして一覧表示。
- タスク内部中央付近に簡易チェックボックスを複数配置可能（複数のToDo要素を管理）。

### 24.2 メモアイコン配置
- タスクボックス右上にメモアイコンを配置。
- メモはToDoタブ上で展開・編集可能。

### 24.3 タスク内容の詳細表示
- タスク名、タグ、付箋は適切に表示。
- タグは付箋より優先度高く表示される。
- 付箋アイコンは色分けし、複数付箋は複数アイコンで表現。
- 画面幅に応じて付箋アイコン表示数を動的調整。表示しきれない場合は「＋〇枚」の表記に。

---

## 25. タスクの操作性と同期

### 25.1 編集・ドラッグ&ドロップ
- ToDoタブ内でのタスクの並び替えはドラッグ&ドロップで可能。
- タスクの編集はToDoタブとガントチャートで同期。

### 25.2 タスク完了チェック
- 簡易チェックボックスはToDo内タスクの進捗を示す。
- チェックボックスのON/OFFは双方に即反映。

---

## 26. タスクタグ・付箋・カラー

### 26.1 タグの優先表示
- タグはタスク名の下部に小さく表示。
- タグは付箋よりも表示優先度が高い。

### 26.2 付箋機能
- 付箋はタスクに1色のみ割り当て可能。
- 複数付箋の場合は複数アイコンで表示し、スペース不足時はカーソルホバーで詳細確認可能。

### 26.3 カラーリング
- タスクカラーはチームプリセットに依存。
- 付箋やタグカラーは個別にユーザーが管理。

---

## 27. スマート表示とレスポンシブ対応

### 27.1 表示制御
- スマートフォン等画面幅が狭い端末では、付箋やタグ表示は制限し、タスク名の視認性を優先。
- 表示可能な情報は動的に変化。

### 27.2 フェードイン・フェードアウトアニメーション
- タスク名、付箋、タグはスケール拡大に応じて滑らかにフェードイン/アウト。

---

## 28. メンバータブの基本仕様

### 28.1 メンバーリスト表示
- メンバー一覧は縦方向リストで表示。
- 各メンバーの役職ラベルを明示的に表示。
- メンバー名はクリック可能で、クリックすると担当タスクの展開が可能。

### 28.2 担当タスクの表示
- 各メンバーの展開時に、そのメンバーにアサインされたタスクのみを表示。
- 関与していないプロジェクト・タスクは表示しない。

### 28.3 タスクフォグの表示
- メンバーごとにタスクフォグ（期間に合わせた視覚的背景色）を適用し、担当タスクの期間を視覚的に把握しやすくする。

---

## 29. ヒートマップ機能

### 29.1 ヒートマップ概要
- 各メンバーが抱えるタスク量や負荷を色の濃淡（ヒートマップ）で表示。
- ヒートマップはメンバーリストの右端に細く表示。

### 29.2 負荷計算
- 負荷はタスクの期間・重複数・重要度などの計算結果に基づく。
- キャパシティオーバーの場合、ヒートマップの色はより濃く警告表示。

### 29.3 空き状況確認
- カレンダーと連動し、メンバー全員の空き日程を視覚的に確認可能。
- 空いている日程はヒートマップやカレンダー側で強調表示。

---

## 30. サイドバー構成と連携

### 30.1 サイドバーの階層構成
- 最左サイドバー：ホームおよびプロジェクトチーム一覧。
- 左から2番目のサイドバー
    - ガントチャートタブ時：プロジェクト一覧を表示。各プロジェクト行の右側に該当タスクバーが連結。
    - メンバータブ時：メンバーリスト表示。

### 30.2 プロジェクトチーム切替
- プロジェクトチームの切替により、2番目のサイドバー内容が切り替わり、所属プロジェクトやメンバーの状態を即時反映。

---

## 31. イベント表示について

### 31.1 メンバータブのイベント表示
- メンバー個別のイベント（例：誕生日、個人の予定）はメンバータブ内には表示しない。
- 各ユーザーに表示されるカレンダーにのみ表示。

### 31.2 祝日・イベントのカレンダー表示
- 祝日および共有イベントはカレンダーの日付セルに表示。
- イベントの管理は別途イベントリストタブにて。

---

## 32. 個人設定画面への導線

### 32.1 導線の配置と目的
- メンバータブの画面から、ユーザー自身の個人設定（通知・テーマ等）へ遷移可能な導線を設置。
- 目的はユーザーが個別に通知設定や表示テーマ等のパーソナライズを行うため。

### 32.2 導線のUI
- 導線はメンバーリストの上部またはヘッダー部に明示的に配置。
- アイコンまたはボタン形式でわかりやすくする。

---

## 33. イベント・祝日の基本設計

### 33.1 イベントの分類
- イベントは「祝日」と「一般イベント」に分類。
- 祝日は国・地域別のプリセットを用意し、ユーザーは日本祝日や海外祝日を選択可能。
- 一般イベントはユーザー独自に作成・編集可能。

### 33.2 祝日のグループ管理
- 複数祝日をグループ化可能（例：憲法記念日、みどりの日、こどもの日を「ゴールデンウィーク」グループとしてまとめる）。
- グループ化により、グループ単位で一括カラー変更や表示切替が可能。

### 33.3 祝日・イベントの表示制御
- カレンダー上の表示・非表示はイベント・祝日リストの左側のチェックボックスで切り替え。
- イベント・祝日はリスト内でドラッグ&ドロップにより並び替え可能。
- 祝日グループ、及びアーカイブ済みイベントはリスト内で解体不可・グループ外に移動不可。

---

## 34. イベントのカラーリング

### 34.1 カラー設定
- 祝日・イベントはそれぞれ個別に色を設定可能。
- ユーザーは単一祝日ごとに色を変更できるほか、祝日グループ単位で一括色変更が可能。
- 開発者によるデフォルトプリセットを用意し、ユーザーはこれを基にカスタム設定が可能。

### 34.2 カラー表示方法
- 日付セルの下部に色帯で表示し、テキスト表示はセル幅が十分な場合のみ行う。
- フェードイン・フェードアウトのスムーズなアニメーションで表示切替。

---

## 35. イベントのメモと付箋管理

### 35.1 付箋表示仕様
- イベントには1枚の付箋（1色）を割り当て可能。
- 複数付箋を付ける場合は複数アイコンを横並びで表示。
- アイコンが画面幅を超える場合は、カーソルホバーで残り枚数をポップアップ表示。

### 35.2 メモ表示
- イベント・祝日のリストにてメモアイコンを右端に配置。
- ホバー時に簡易ポップアップでメモ内容を表示。
- タグは付箋より優先的に項目名の下に表示。

---

## 36. イベントの繰り返し（ループ）設定

### 36.1 繰り返しイベントの管理
- 毎年など定期的に発生するイベントは繰り返し設定可能。
- ループイベントはアーカイブされず、常に次回開催日を表示。

### 36.2 アーカイブ機能
- 単発イベントは過去日程に達すると自動的にアーカイブリストへ移動。
- アーカイブイベントは非表示設定が可能だが、完全削除しない限りカレンダー表示は薄色で継続可能。
- アーカイブ済みイベントが日程変更・ループ設定されると自動的に現役イベントリストへ復帰。

---

## 37. イベント・祝日の提案機能（チーム共有）

### 37.1 提案機能の概要
- プロジェクトチーム内で独自祝日・イベントを提案可能。
- 送信者は自身のイベント・祝日から選択または新規作成し、提案送信。

### 37.2 受信者側の操作
- 受信者は通知アイコンから提案を確認。
- 受け取り希望の祝日・イベントを選択し受け入れ可能。
- 提案受信時は既存イベントと名称・日付の重複チェックを容易にする表示を用意。

---

## 38. タスクとToDoタブの基本設計

### 38.1 タスク表示の二面性
- **ガントチャートタブ**：タスクは横長バーで表示。メモは表示しない（デザイン保持のため）。
- **ToDoタブ**：タスクは長方形のカード形式で表示。メモアイコンを右上に配置し、メモ内容確認可能。

### 38.2 タスク内容の一貫性
- ガントチャートとToDoタブのタスクは同一内容で同期。
- 片方で変更した内容は即座に他方にも反映。
- 編集項目は両方で同一仕様。

---

## 39. ToDoタブのUI仕様

### 39.1 チェックボックス配置
- タスク内に簡易チェックボックスを複数並列で表示。
- チェックボックスはタスクカードの中央付近に配置し、左上ではない。

### 39.2 メモ表示
- メモアイコンはタスクカードの右上に配置。
- ホバーまたはクリックでメモ詳細ポップアップ表示。

### 39.3 タグ表示
- タグは付箋より優先し、タスク名の下に小さく表示。
- タグは読みやすさ重視で適切なサイズを確保。

---

## 40. タスクバーの外枠設定

### 40.1 外枠パターン
- プリセットで複数の外枠パターン（線種・太さ・色）を用意。
- デフォルトは枠線なし。
- 開発者がプリセットを編集可能、一般ユーザーは編集不可。

### 40.2 カラーと枠の連動
- タスクバーの色と枠線はプリセットで一括管理。
- プリセット更新時、適用プロジェクトチームのタスクバーは自動更新。

### 40.3 視認性向上
- パステルカラー使用時でも外枠により視認性確保。
- 外枠は線の種類（実線・破線など）も選択可能。

---

## 41. タスク表示制御

### 41.1 スケール制御
- タスクバー幅はスケール設定に連動。
- 拡大・縮小の上限・下限を設定。
- 幅狭時も最低限のカラー装飾は可能。

### 41.2 表示切替
- タスクの表示・非表示はユーザー操作可能。
- チェックボックスやショートカットメニューで切り替え。

---

## 42. メンバータブの概要

- メンバータブは、チームメンバーのタスク負荷やスケジュールを一元管理・確認するための機能。
- メンバー一覧は左から二番目のサイドバーに表示される。
- 各メンバーの担当タスクはクリック展開で詳細表示可能。
- タスクは担当メンバーごとに紐づけられ、メンバータブでは該当タスクのみ表示される。

---

## 43. メンバータブの主な機能

### 43.1 タスク負荷のヒートマップ表示
- メンバーごとに日ごとのタスク量をヒートマップ（色の濃淡）で表示。
- ヒートマップはメンバー行の右端に薄く色付け。
- タスク量はキャパシティ計算に基づき算出。

### 43.2 メンバーの日程可視化
- メンバー全員の空きスケジュールをカレンダー表示と連動して確認可能。
- メンバーの行は画面縦に全日程を表示するタスクフォグ形式。

### 43.3 メンバーの担当プロジェクト展開
- メンバー名をクリックすると、そのメンバーが担当するプロジェクト一覧が展開される。
- 担当していないプロジェクトのタスクは表示されない。

---

## 44. メンバー情報の追加表示

### 44.1 役職ラベル表示
- 各メンバーには役職ラベルを付与可能。
- ラベルはメンバー名の横に表示。

### 44.2 個人設定への導線
- メンバータブから「個人設定」への遷移ボタンを設置。
- 設定可能項目例：通知設定、テーマ変更など。
- 利用者が自身の設定画面へ迅速にアクセスできるようにする。

---

## 45. メンバーイベントの取り扱い

- メンバータブでは、個人イベントは表示しない。
- 個人イベントはユーザー自身のカレンダーの日付セルにのみ表示される。
- 祝日やチームイベントとの区別を明確にする設計。

---

## 46. UIおよび操作性

- メンバーリストのスクロールと展開は滑らかで直感的な動作。
- タスクのアサイン情報はリアルタイム同期。
- タスクフォグは行全体に展開し、タスク負荷の視覚的把握を容易にする。

---

## 47. イベント・祝日の概要

- イベントと祝日はカレンダー上で日付セルに色付けやマークで表示される特別な日付。
- イベントはユーザー個人のもの、祝日はチーム・プロジェクト共通で設定されるものを想定。
- イベントと祝日は「イベント一覧」機能で管理・編集可能。

---

## 48. 祝日およびイベントのカラーリング

### 48.1 カラーリング仕様
- 日付セルの下部のバーに色を付けて視認性を確保。
- 文字情報はセル幅が十分な場合のみ表示。セル幅に応じてフェードイン・アウトする演出を実装。
- 祝日、週末はデフォルトプリセットにて色分け。
- ユーザーは祝日・イベントカラーを個別またはグループ単位で変更可能。

### 48.2 カラー変更のグループ管理
- 祝日は「祝日」グループに一括管理。
- イベントはユーザーが任意にグループを作成・解体・並べ替え可能。
- グループのカラー変更は親グループ単位または個別イベント単位で選択可能（確認ダイアログあり）。

---

## 49. 祝日・イベントの追加・編集・削除

### 49.1 祝日のプリセットとカスタマイズ
- 日本の祝日プリセット、海外祝日プリセットを用意。
- ユーザーはチェックボックス方式で祝日の追加・削除・名称編集が可能。
- 複数日にわたる祝日（例：ゴールデンウィーク）の一括設定も可能。

### 49.2 イベントの管理
- 単発イベントと繰り返しイベント（ループ）を区別。
- 繰り返しイベントは次回開催日を常に保持し、カレンダーに反映。
- 過去日程のイベントは自動で「アーカイブ済みイベント」としてグループ化。

### 49.3 イベントリストの操作
- ドラッグ&ドロップで並び替え可能。
- 「祝日」および「アーカイブ済み」グループは解体不可、グループ外への移動不可。
- アーカイブ済みイベントが未来日程に変更された場合、イベント一覧に自動復帰。

---

## 50. 表示・非表示制御

- イベント・祝日の表示はチェックボックスでON/OFF切替可能。
- 過去の祝日・イベントを薄く表示する設定をユーザー詳細設定に用意。
- モバイルなど画面幅が狭い環境では「付箋〇枚」等の装飾表示は非表示に。

---

## 51. 付箋（タグ）機能

- イベント・祝日に付箋を貼ることが可能。
- 付箋は単一色割り当て。
- 複数付箋が存在する場合はアイコン複数表示、スペース不足時は「＋〇枚」表記を表示。
- ホバー時に付箋内容の簡易ポップアップ表示。

---

## 52. イベント・祝日の共有・提案機能

- チームメンバーに対して独自祝日・イベントの提案が可能。
- 提案はチェックボックスで複数選択可能。
- 受信者は通知から提案内容を確認し、必要なもののみ受け入れ可能（受け取り拒否は不可）。
- 提案画面では既存イベントとの重複（名称・日程）を一目で確認可能。

---

## 53. ToDoタブの概要

- タスク管理を主体とした画面。
- ガントチャートタブとは異なり、タスク詳細を広く表示し編集がしやすい。
- タスクバーとToDoタブは連動し、内容は完全に同期。
- タスクの状態・属性編集は両タブで共通のUI/UXを提供。

---

## 54. タスクの表示と操作

### 54.1 タスクレイアウト
- 長方形のタスク領域内に情報を余裕をもって表示。
- タスク内部中央に簡易チェックボックスを複数並べて表示し、状態管理をサポート。
- タスク右上にメモアイコンを配置し、ホバーで詳細メモをポップアップ表示。

### 54.2 タスク編集
- タスクの内容変更はどちらのタブからもリアルタイム同期。
- タスク名、期日、担当者、付箋タグ、簡易チェックボックスなどの編集が可能。
- 編集時は即時に全画面に反映。

---

## 55. タスクバーの外枠仕様

- プリセットで用意された複数の枠線パターンから選択可能（太さ・色・線種）。
- デフォルトは枠線なし。
- 開発者用の管理画面でプリセット編集可能、一般ユーザーは編集不可。
- プリセット更新時は、各プロジェクトチームに反映。
- タスクバーの視認性向上のため、薄い外枠を推奨。

---

## 56. 付箋・タグ表示

- タスクにも付箋（タグ）を付与可能。
- 付箋色は1枚に対し1色まで。
- ホバー時に付箋内容の簡易ポップアップを表示。
- 付箋色はタスクバーの色と区別し、視認性を考慮。

---

## 57. 表示のレスポンスとデザイン配慮

- スマートフォン等画面幅が狭い場合は、付箋・タグの表示を制限し、タスク名の表示を優先。
- タスク文字の表示はスケールに応じてフェードイン・アウト。
- 全体のデザインはシンプルかつ洗練されたUIを目指す。

---

## 58. イベント・祝日リストの基本構成

- 横長のリスト形式で上から縦に並べて表示。
- 各リスト項目は、以下の要素で構成：
    - 左側：カレンダーへの表示/非表示チェックボックス
    - 中央：イベント・祝日名称
    - 下部：タグ表示（付箋よりも高優先度で表示）
    - 右端：メモアイコン（ホバーで内容ポップアップ）

---

## 59. イベント・祝日リストの詳細仕様

### 59.1 表示管理
- 左側チェックボックスで、カレンダー上の日付セルへの表示/非表示を制御。
- アーカイブされたイベントでも、チェックボックスがONであればカレンダーに表示。
- アーカイブイベントの色は薄く表示する設定項目あり（ユーザー設定・カレンダー右クリックから変更可能）。

### 59.2 ソート・フィルター
- ループするイベントはフィルター機能で非表示設定可能。
- イベント・祝日にはタグ付与が可能で、タグごとのフィルター・検索をサポート。

### 59.3 メモ・付箋表示
- 付箋は一色まで。
- 複数枚の付箋がある場合、複数アイコンを並列表示。
- 表示しきれない場合、「付箋〇枚…」と簡易表記、ホバーで詳細表示。
- メモは右端アイコン、ホバーで内容を確認可能。

---

## 60. イベント・祝日のグループ化

- イベント・祝日は任意のグループ化が可能。
- グループ単位でカラーの一括変更をサポート（変更時に確認ダイアログ表示）。
- グループ左端に薄く色線を付け、視認性を強化。
- 「祝日」「アーカイブ済み」はシステム固定グループで、解体不可。
- その他のグループは自由に作成・解体・並び替え可能。

---

## 61. イベント・祝日管理画面

### 61.1 独自祝日・イベントの追加・編集

- チェックボックス方式で祝日・イベントを追加・削除可能。
- 期間指定型（複数日連続）イベントの登録をサポート。
- 期間中の中央付近に名称を一度だけ表示し、冗長表示を防止。

### 61.2 名称・カラー・タグ設定

- イベント・祝日ごとに個別カラー・タグ・メモを設定可能。
- グループ単位のカラー設定は「上書き優先」仕様（確認ダイアログあり）。
- 祝日イベントの強調度はプリセットに準拠、ユーザー設定で変更可能。

---

## 62. イベント・祝日の共有と提案機能

### 62.1 共有・提案仕様

- 独自祝日は、チームメンバーに個別または全体へ提案可能。
- 提案時、送信者のイベント・祝日一覧から選択、もしくは新規作成。
- 提案は通知アイコンから確認、一覧表示。
- 同名・同日程イベントが存在する場合、視覚的に差分確認が可能。

### 62.2 受信者の選択と配慮

- 受信者は通知確認後、任意のものを選択して受け入れ可能。
- 強制受信ではなく、個別選択式を採用。
- デリケートな人間関係に配慮し、提案拒否によるトラブル軽減。

---

## 63. 祝日プリセットの概要

- 初期状態で「日本の祝日」や「海外の主要祝日」など、複数のプリセットを用意。
- プリセットごとに以下を管理：
    - 祝日リスト（名称・日付・期間）
    - デフォルトカラー設定
    - 強調度（視認性の高さ）

- ユーザーはプリセットから選択、もしくはカスタムプリセットを作成可能。

---

## 64. 祝日プリセットの詳細仕様

### 64.1 カスタマイズ機能

- プリセット内の祝日ごとに、以下を個別設定可能：
    - 表示/非表示
    - 名称編集
    - 日付・期間編集
    - 個別カラー変更

- 祝日単体のカラー変更は、プリセット全体のカラーに上書きされる。
- 元のプリセット構成は変更せず、ユーザー単位での見た目カスタムを実現。

---

## 65. カラー設定・視認性仕様

### 65.1 カラー階層の優先順位

1. 個別祝日のカラー設定（最優先）
2. グループ単位のカラー設定（祝日グループ一括変更）
3. プリセットのデフォルトカラー
4. デフォルト状態（開発者指定カラー）

- 上書き操作時は、確認ダイアログで範囲を選択（祝日単体 or 全体）。

### 65.2 視認性強化

- パステルカラー使用時の視認性低下を防ぐため、外枠設定を導入。
- 各タスクバーや祝日セルに対し：
    - 外枠太さ、線種（実線・破線）、枠線カラーを指定可能。
    - デフォルトは「外枠なし」。
    - 外枠設定はプリセット管理画面で、開発者が調整。

- 外枠デザイン例：
    - 薄いグレーの実線
    - 破線（イベント強調用）
    - 太線（重要イベント用）

---

## 66. カレンダー上での祝日・イベント表示

- 日付セル下部にカラー装飾を行い、祝日・イベントを区別。
- スケール拡大時、必要に応じて名称テキストをセル内中央に表示。
- 名称表示は、滑らかなフェードイン・アウトで視覚的にお洒落に演出。
- モバイル端末等、セル幅が不足する場合は色のみ表示。

---


## 67. 複数日対応イベント・祝日の仕様

### 67.1 基本概念

- イベント・祝日は単日、または複数日にわたる設定が可能。
- 期間指定されたイベントは、以下のように表示される：
    - 指定された開始日から終了日まで、日付セル下部にカラー装飾を連続表示。
    - スマート表示により、視覚的なごみごみ感を抑えつつ必要な情報を表示。

---

## 68. スマート表示の詳細

### 68.1 名称表示のルール

- 複数日にわたるイベントは、ユーザーの表示範囲に応じて以下を自動判別：
    - 画面内でイベント期間全体が見えている場合：
        - イベントの中央付近に名称を表示。
    - 期間の一部のみ表示されている場合：
        - 画面内中央付近、表示可能な最も適切な位置に名称表示。
    - セル幅や表示範囲が不足する場合：
        - 名称は非表示、カラー装飾のみ。
        - ホバーでポップアップ詳細表示を提供。

### 68.2 フェードイン・アウト仕様

- イベント名称はスケール拡大時、セル幅が十分になった瞬間に：
    - 突然の表示ではなく、滑らかなフェードイン演出。
- スケール縮小時も、自然なフェードアウトで名称を非表示化。

---

## 69. 表示幅制限とスマホ対応

- 表示幅に応じて動的に名称表示の有無を決定。
- スマートフォン等、極端に表示幅が狭い端末では：
    - 名称非表示を優先。
    - 項目名や詳細は、セルホバーまたはタップ時にポップアップで確認。

---

## 70. 特殊イベント表示（例：誕生日）

- 特定のイベント（例：誕生日）は、通常の祝日カラーとは別に強調色を設定可能。
- イベントグループ単位での色管理もサポート。

---

## 71. イベント・祝日管理リスト基本構成

- イベント・祝日は、ユーザーが管理する「リストビュー」で確認・編集が可能。
- リストは、以下の形式で上から縦方向に並ぶ：
    - 左端：カレンダーへの表示・非表示チェックボックス。
    - 中央：イベント・祝日の名称。
    - 名称下部：タグ表示（タグの表示優先度は付箋より高い）。
    - 右端：メモアイコン、クリックで詳細メモを確認・編集。

---

## 72. ドラッグアンドドロップ仕様

### 72.1 並び替え機能

- イベント・祝日の並び順はドラッグアンドドロップで自由に変更可能。
- 「祝日グループ」と「アーカイブ済みイベントグループ」は保護対象：
    - これらグループ外へ要素を持ち出すことは不可。
    - グループ内部での並び替えは可能。

### 72.2 グループ構造と制限

- ユーザー任意のイベントグループ：
    - 作成・解体・並び替え自由。
- 祝日・アーカイブ済みグループ：
    - 解体不可、保護対象。
- グループごとにカラー設定が可能：
    - 上書き優先。
    - 上書き時、ダイアログ表示で変更対象（グループ全体 or 個別選択）を確認。

---

## 73. グループ内カラー管理

- グループの左端に薄く色ラインを表示し視認性向上。
- この仕様はイベント単体・祝日単体にも適用。

---

## 74. 重複イベントの取扱い

- 名称と日付が完全一致する場合：
    - ユーザーへ選択を推奨。
- 名称は異なるが日付が同一の場合：
    - 両方残すことを推奨。

---

## 75. 付箋仕様全般

- 付箋は、タスク・イベント・ToDo項目に紐づけ可能。
- 1つの付箋には1色のみ割り当て可能。
- 同一項目に複数の付箋を貼ることは可能。

---

## 76. 付箋表示仕様

### 76.1 通常表示

- 付箋はアイコン形式で表示。
- 付箋カラーは、アイコンの色として即座に視認可能。
- 複数の付箋が貼られている場合：
    - 複数の付箋アイコンを横並びで表示。
    - 画面サイズが不足する場合：
        - 「付箋〇枚…」と簡易表示。
        - カーソルホバーで残りの付箋情報を確認可能。

---

## 77. ToDoタブにおける付箋・メモ・チェックボックス表示

### 77.1 ToDoタブの構成

- タスクを長方形ボックスで表示。
- タスク内部：
    - 中央：簡易チェックボックスを横並び配置。
    - 右上：メモアイコン、クリックでメモ確認・編集。
    - 付箋アイコンは、チェックボックス付近に配置。
    - タグはタスク下部に小さく表示。

### 77.2 タスクとToDoの同期

- ガントチャートタブとToDoタブで、同一タスク情報を共有。
- 片方で加えた変更は、即座にもう一方へ反映。

---

## 78. モバイル端末対応

- 表示幅に応じて以下の動的制御：
    - 表示可能なら全アイコン表示。
    - 表示不可なら「付箋〇枚…」簡易表記。
    - 項目名表示を優先、視認性を確保。

---

## 79. タスクバーのカラー設定

- タスクバーには以下を指定可能：
    - メインカラー（塗りつぶし色）
    - 外枠（枠線）の有無、太さ、線種、色

### 79.1 メインカラー

- パステルカラーなど、ユーザー好みのカラー選択可能。
- パステルカラーは視認性が低いため、外枠を併用することで補う設計。

### 79.2 外枠仕様

- 外枠のデフォルト：枠線なし。
- 外枠の設定項目：
    - 太さ：数段階から選択
    - 線種：実線／破線など
    - 色：自由選択
- 外枠は、メインカラーごとに指定可能。

---

## 80. カラープリセット管理

### 80.1 プリセット概要

- プリセット内に複数の「パターン」を定義。
- 各パターンごとに以下を指定：
    - タスクバーのカラー
    - 外枠の太さ・線種・色

### 80.2 管理者・開発者権限

- プリセットの作成・編集・削除は開発者のみ可能。
- 一般ユーザーはプリセットの適用のみ可能。

---

## 81. プリセットとプロジェクトの関係

- 各プロジェクトチームごとに、適用プリセットを設定可能。
- 開発者がプリセットを更新した場合：
    - 該当プリセットを使用しているプロジェクトは自動更新。
    - 独自プリセットを使用している場合、影響なし。

---

## 82. メンバータブ概要

- メンバータブは、ヘッダー下の横並びタブ群のひとつとして設置。
- 主な目的：
    - メンバーごとのタスク状況把握
    - チーム全体の空き日程確認
    - 個別メンバーの詳細確認

---

## 83. メンバーリスト表示

- 画面左から2番目のサイドバー内に、メンバーリストを縦並びで表示。
- 各メンバー項目に以下を表示：
    - メンバー名
    - 役職ラベル（あり）
    - タスク負荷ヒートマップ
    - 展開ボタン

---

## 84. タスク負荷ヒートマップ仕様

- 各メンバーのタスク量を色の濃淡で可視化。
- 計算方法：
    - タスク量 ÷ キャパシティ（事前設定値）
- 表示方法：
    - メンバーリスト右端に、薄くグラデーション表示。
- タスク量がキャパを超えた場合、警告色表示。

---

## 85. メンバー展開機能

- メンバー項目クリックで展開可能。
- 展開時の表示内容：
    - 該当メンバーがアサインされているタスク一覧
    - タスクごとの詳細情報（ガントチャートと完全同期）
- 非アサインタスクは表示されない。

---

## 86. メンバー全体の空き日程確認

- カレンダーと連動し、全メンバーの空き日を一目で把握。
- 機能概要：
    - 各メンバーのタスク期間を視覚化
    - 全員が空いている日程に目印表示

---

## 87. タスクフォグ仕様

- メンバータブでは「タスクフォグ」表示が可能。
- 各メンバーの行を、タスク期間に応じて上から下まで薄く色付け。
- 空き時間や重複状況を把握しやすくする目的。

---

## 88. メンバータブにおけるイベント・祝日の扱い

- **原則：メンバータブにはイベント・祝日は表示しない。**
    - イベント・祝日は、ユーザー個人が設定し、カレンダー上にのみ表示される。
    - チーム全体や他メンバーに直接影響を与えない。

---

## 89. イベント・祝日の個人設定

- イベントと祝日は以下の仕様：
    - 各ユーザーが自由に追加・編集・削除可能。
    - 設定したイベント・祝日は自分のカレンダー上でのみ視認可能。
    - 共有設定を行わない限り、他ユーザーには表示されない。

---

## 90. イベント・祝日の共有と提案

- 独自のイベント・祝日を、プロジェクトチームや個別メンバーに提案できる。
- 提案フロー：
    1. 送信者が使用中のイベント・祝日から選択、または新規作成。
    2. 提案相手を個別または全体で指定。
    3. 相手側には通知が届く。
- 受信者側：
    - ヘッダーの通知アイコンから確認。
    - イベント・祝日の内容と、自身の既存イベントを比較表示。
    - 完全一致する場合、上書き選択を推奨。
    - 同日程・異名称の場合、両方残す選択を推奨。

---

## 91. イベント・祝日の受信仕様

- 受信者は通知を受け取り、以下を選択可能：
    - 個別受け取り（必要なもののみチェック）
    - 全受け取り
    - 拒否（削除も可能）
- 受け取りに「事前許可設定」はなし。都度通知で対応。
- デリケートな人間関係への配慮を考慮し、受信拒否通知は送信者に明確に伝えない。

---

## 92. 通知仕様詳細

- ヘッダーの通知アイコンから、以下の通知を確認：
    - イベント・祝日の提案受信
    - タスク割り当て変更
    - システムからの重要通知
- 通知は既読・未読管理。
- 必要に応じて、通知から直接設定画面や詳細ページへ遷移可能。

---

## 93. イベント・祝日リストのUI構成

- イベント・祝日リストは、上から下へ縦並び。
- 各項目は横長のボックスとして表示。
- 各ボックス内：
    - 左側：チェックボックス（カレンダーへの表示・非表示を制御）
    - 中央：イベント・祝日の名称
    - 右端：メモアイコン（メモ内容がある場合のみ表示）

---

## 94. タグと付箋表示の優先順位

- タグは名称の下部に小さく表示。
- タグの表示優先度は付箋よりも高い。
- 付箋仕様：
    - 1枚につき1色割り当て。
    - 複数枚の付箋がある場合、アイコンを複数表示。
    - 表示スペース不足時は「付箋〇枚…」と省略表示。
    - ホバー時に簡易ポップアップで内容表示。

---

## 95. カラー設定とグループ仕様

- 祝日・イベントともに「グループ化」が可能。
- グループ単位で一括カラー設定が行える。
- グループカラー設定時：
    - 「親グループのみ変更」
    - 「グループ内全イベントに上書き適用」
    - 上書き時は確認ダイアログ表示。
- 上書き適用時、各イベントの個別カラーは失われる。

---

## 96. 視認性の工夫（グループ色線）

- 各イベント・祝日ボックスの左端に薄くグループ色の線を表示。
- グループ色線は以下に適用：
    - 親グループ
    - 各イベント・祝日
- 視認性向上とデザイン性両立を重視。

---

## 97. 特殊グループ仕様

- 「祝日」および「アーカイブ済み」グループは固定：
    - 分解不可
    - 他グループへの移動不可
- ユーザー作成グループは自由に：
    - 作成・解体・順番入れ替え可能
- グループ内イベントはドラッグ&ドロップで並び替え可。

---

## 98. アーカイブ仕様と復帰

- 単発イベントで過去日程を迎えたものは自動で「アーカイブ済み」へ移動。
- アーカイブ内のイベントを編集し、未来日程またはループ設定へ変更した場合：
    - 自動でアーカイブからイベント一覧へ復帰。
    - 編集中の要素がリスト内で迷子にならない工夫必須。

---

## 99. ループイベントの管理

- ループイベントは次回開催日を常時保持。
- イベント一覧では次回開催日を表示。
- ユーザーがソート機能で「ループイベントの非表示」が可能。

---

## 100. タスク・ToDoタブ共通仕様

- タスクデータは「ガントチャート」「ToDoタブ」で共通。
- いずれかで変更を加えると、もう一方にも即時反映。
- 編集項目も共通で、差異なく設定可能。

---

## 101. ToDoタブ表示仕様

- タスクは長方形ボックスとして一覧表示。
- ボックス内レイアウト：
    - 内部中央：簡易チェックボックス（進捗管理用）
    - 右上：メモアイコン（メモが存在する場合のみ）
    - タグ：タスク名称下部に小さく表示（付箋より優先）
    - 付箋：タグ表示後、スペースに応じて複数アイコン表示
- 付箋仕様：
    - 1枚につき1色
    - 表示しきれない場合は「付箋〇枚…」と省略表記
    - ホバー時にポップアップで付箋内容確認可能

---

## 102. ガントチャートタブ表示仕様

- タスクバー内にメモは表示しない（視認性・デザイン性優先）。
- タスクバー：
    - 指定色で塗りつぶし
    - オプションで外枠（太さ・線種・色）設定可能
- タスクバー外枠：
    - デフォルトは「なし」
    - 開発者専用管理画面からパターン単位で指定
    - 一般ユーザーは編集不可
- 外枠パターン：
    - タスクカラーごとに「枠太さ・線種・枠色」を定義
    - パターン数は増減可能
    - 開発者がプリセットを変更した場合：
        - 該当プリセットを使用するプロジェクト全体で反映
    - 独自プリセット使用プロジェクトは個別反映

---

## 103. 複数日連続タスク・イベント名称表示

- 表示期間内の中央付近にのみ名称を表示。
- 全日に毎回表示することは避け、煩雑さを軽減。
- スマートなレイアウト設計を採用。

---

## 104. タブの配置・切り替え

- タブは画面上部のヘッダー下に横並び配置。
- タブ種別：
  - ガントチャートタブ
  - メンバータブ
  - ToDoタブ
  - イベント・祝日リストタブ（リストタブ）
  - プロジェクトチームタブ
- 各タブはワンクリックで切り替え可能。
- タブの状態は保持され、切り替え時にスクロール位置やフィルタ状態が復元される。

---

## 105. サイドバー構成

- 最左のサイドバー
  - 一番上に「ホーム」ボタン
  - 以下にプロジェクトチーム一覧を縦に表示
  - プロジェクトチーム選択時は右側に関連情報が表示される

- 左から二番目のサイドバー
  - **ガントチャートタブ時：**
    - プロジェクト一覧をリスト表示
    - プロジェクトごとにタスクを展開可能
    - 各プロジェクトの行の右側にタスクバーを配置（ガントチャート本体と連動）
  - **メンバータブ時：**
    - メンバー一覧を表示
    - 各メンバーの右端にタスク量を示すヒートマップ表示（色で負荷を可視化）
    - メンバー選択で、そのメンバーがアサインされているプロジェクトとタスクを展開表示
    - 展開タスクは、選択メンバーに関連するもののみを表示

---

## 106. メンバータブの詳細仕様

- メンバーリスト表示
  - メンバー名
  - 役職ラベル表示（設定で追加）
  - 担当タスクはクリック展開で表示（詳細はサブリストに表示）
- ヒートマップ
  - 各メンバーのタスク負荷に応じた色濃度・色相で視覚化
  - タスクのキャパシティ計算に基づく
- 予定確認
  - メンバー全員の空き日程が一目でわかるカレンダー連携表示
- タスクフォグ
  - メンバーの行を縦にスクロール可能に表示

---

## 107. イベント表示に関するメンバータブの仕様

- メンバーの個人イベントは、メンバータブには表示しない
- イベントはカレンダーの該当セルに表示
- イベントは個人ごとに設定され、他メンバーには表示されない

---

## 108. 個人設定への導線について

- メンバータブから「個人設定（通知・テーマ等）」へのアクセス方法は
  - ヘッダー右上のユーザープロフィールアイコンまたは
  - アプリ全体の共通メニューから行う設計
- メンバータブ内に個人設定への直接リンクは設けない（仕様検討継続中）

---

## 109. イベント・祝日リストの基本構造

- イベント・祝日は横長のリスト形式で上から縦に並ぶ。
- 各項目の左端に「カレンダーの日付セルに表示するかどうか」のチェックボックスを配置。
  - チェックオンでカレンダーに表示。
  - チェックオフでカレンダー非表示（リストには残る）。
- メモアイコンは各項目の右端に配置。
- 項目名の下部にタグを小さく表示。タグは付箋より優先表示。

---

## 110. カラーリング設定

- 祝日・イベントはユーザーが個別に色指定可能。
- 祝日はグループとして一括カラー変更可能。
- イベントもグループ化し、一括カラー変更対応。
- 祝日イベントの強調度はプリセットに準拠。
- 色指定は強調色・背景色の組み合わせで設定。
- カラー変更時、グループカラー上書き時は確認ダイアログ表示。
  - 親グループのみ色変更 or グループ全体色変更を選択。
- グループ・個別イベントに薄い左端線を付けて視認性向上。

---

## 111. イベントの表示制御

- ループ（繰り返し）イベントは非表示切替機能あり（ソート機能に組み込み）。
- 日付セルの表示スペースは小さいため、セル下部にカラーで示す方式を標準とする。
- カーソルホバーで詳細ポップアップを表示。
- セル幅が広い場合のみ、文字列をフェードイン表示。表示/非表示は文字数・セル幅で自動判断。
- モバイル表示時は付箋や詳細は非表示、名称優先表示。

---

## 112. イベントのグループ化と操作性

- ユーザー任意でイベントグループを自由に作成・解体可能。
- 祝日・アーカイブ済イベントグループは解体不可。
- グループ内のイベント並び替えはドラッグ＆ドロップで直感的に操作可能。
- イベントのタグ付け、簡易チェックボックスの付与を実装。
- アーカイブ済イベントは単発イベントのみ。編集で未来日程設定やループに変更した場合、自動的にイベント一覧に移動。

---

## 113. 表示上の重複イベント処理

- 同一名称・同一日付の重複イベントは、どちらか一方を選択推奨の表示誘導。
- 名称異なるが同日程のイベントは両方表示推奨。
- イベント提案機能と連携し、重複確認UIを提供。

---

## 114. イベント提案機能（概要）

- ユーザーは独自祝日やイベントをメンバーやチームへ提案可能。
- 提案時に使用済みイベントリストから選択・新規作成で複数選択可。
- 受信者は通知アイコンから提案内容を確認し、受け入れたいイベントのみチェックを入れて受諾。
- 受信時、すでに存在するイベントや祝日と同日・類似名称のものを同時に閲覧・比較可能。
- 提案イベントと既存イベントの類似性が高い場合、詳細比較ビューを表示。

---

## 115. ToDoタブの基本構造

- ToDoタブはガントチャートとは別タブであり、タスクの詳細情報を広く表示可能。
- タスクは長方形のカード形式で表示され、画面の利用効率を考慮。
- タスク内部中央付近に簡易チェックボックスを複数並べて配置。
- タスクの右上にメモアイコンを配置し、クリックまたはホバーで詳細メモ内容を表示可能。
- タスクの各種情報（名称、タグ、進捗、担当者など）はカード内に適切にレイアウト。

---

## 116. タスクの表示連動性

- ガントチャートのタスクバーとToDoタブ内のタスクは同一データを共有。
- どちらか一方の編集内容は即時、もう一方に反映されるリアルタイム同期を実装。
- 編集項目は両方のタブで完全に一致し、ユーザー体験の一貫性を確保。

---

## 117. タスクバーの外枠設定

- タスクバーのカラーは開発者向けプリセット管理により指定可能。
- プリセット内に複数のパターンを用意し、各パターンで「枠線の太さ・線種・色」を管理。
- 初期状態の枠線は「なし」とする。
- パステルカラー系は視認性を補うために枠線表示推奨。
- プリセット変更時はプロジェクトチーム単位で自動反映。
- カラー・枠線変更時は管理画面で操作し、一般ユーザーの編集不可。
- タスクバー外枠の線種は「実線・破線」等複数選択肢を提供。

---

## 118. タスクバー内メモ表示の廃止

- ガントチャートのタスクバー内にはメモ表示をしない。
- メモはToDoタブの右上のメモアイコンから閲覧・編集を行う。
- 視認性とデザイン性を重視し、ガントチャートの見た目をすっきりさせる目的。

---

## 119. タスクのタグ表示

- タスクのタグはToDoタブ内では名称下部に小さく表示。
- 付箋の色・枚数はToDoタブ・ガントチャートともに統一的に表示管理。
- 付箋は1枚につき1色の割り当て。複数貼り付けている場合は複数アイコン表示。
- 表示幅が狭い場合はアイコン数を制限し、ホバー時に詳細をポップアップ表示。

---

## 120. モバイル対応

- モバイル端末ではToDoタブの表示幅に制限があるため、付箋・タグ等の表示は省略または簡略化。
- 表示名優先で、情報の詰め込みを避ける。

---

## 121. タスクの操作性

- タスクの簡易チェックボックスはToDoタブ内タスクカードの内部中央に配置。
- チェックボックスでタスクの進捗や完了状態を直感的に管理可能。
- メモアイコンのクリックで詳細メモがモーダル表示され、編集・保存が可能。

---

## 122. メンバータブの基本構造

- メンバータブはヘッダー下の横並びタブの一つで表示。
- メンバーごとのタスク状況を可視化し、個別タスクの閲覧や担当確認が可能。
- 左から二番目のサイドバーにはメンバーリストを表示。
- メンバー名、役職ラベル、進捗状況、タスク量を一覧化。

---

## 123. ヒートマップによるタスク負荷表示

- 各メンバーのタスク負荷は、キャパシティ計算に基づきヒートマップで視覚化。
- メンバーリストの右端に薄く色付きのバーを表示し、タスク量を表現。
- 色の強さはタスク量や作業負荷に比例。負荷が高いほど濃く表示。
- ヒートマップのカラースケールは開発者側でプリセット管理、将来的にユーザーカスタマイズ可能。

---

## 124. メンバータスクの展開表示

- メンバー名をクリックすると、そのメンバーが担当するプロジェクト一覧を展開表示。
- 各プロジェクト下に担当タスクが階層的にリストアップされる。
- メンバータブ内に表示されるタスクは、メンバーにアサインされているもののみに限定。
- 関連のないプロジェクト・タスクは表示されない。

---

## 125. メンバーの空き状況カレンダー連携

- メンバータブはメンバーのカレンダーと連動し、空き時間を一目で把握可能。
- 全メンバーの空き日程を横断的に確認し、全員が空いている日時を特定しやすくする。
- 空き状況はカレンダーの日付セル上で色分け表示やアイコンで表現。

---

## 126. タスクフォグ機能

- タスクフォグはメンバー行全体を覆う形で表示し、負荷状況を直感的に伝える。
- 負荷が高い場合は色が濃くなり、負荷が低い場合は薄く表示。

---

## 127. メンバーの役職ラベル

- 各メンバーには役職ラベルが付与可能。
- 役職ラベルはリスト内のメンバー名横に表示し、視認性を高める。

---

## 128. メンバーイベント表示について

- メンバータブでは個別のイベント（例：誕生日、特別休暇など）は表示しない。
- イベントはカレンダー上の個人日付セルに表示される仕組み。
- イベントはユーザー個人の権限範囲内で作成・管理。

---

## 129. メンバータブからの個人設定遷移

- メンバータブからは「個人設定」への遷移導線は存在しない。
- 個人設定（通知・テーマなど）は別UIまたはメインメニューからアクセス。
- メンバータブはあくまでタスク管理・状況確認に特化。

---

## 130. イベント・祝日リストの基本構造

- イベント・祝日は横長リスト形式で上から縦に並ぶ。
- 各イベント項目は1行で構成され、左から右へ以下の要素を配置。
- 左端に「カレンダー表示の有無」を制御するチェックボックスを配置。
- 項目名は中央寄りに表示し、タグは項目名の下部に小さく表記（タグは付箋より表示優先度が高い）。
- 右端にメモアイコンを配置し、クリックまたはホバーで詳細メモを表示可能。

---

## 131. 表示・非表示チェックボックス

- チェックボックスはイベントや祝日がカレンダーの日付セルに表示されるか否かを制御。
- チェックを外した場合でも、リスト上は残るがカレンダーには表示されない。
- 完全に不要なイベントはユーザーが削除可能。

---

## 132. 付箋の仕様

- イベント・祝日に付箋を複数貼付可能。
- 各付箋は単一色割り当てで、複数付箋がある場合は付箋アイコンを複数並べて表示。
- 表示領域不足時は「+〇枚」のようにまとめ表示し、ホバー時に詳細をポップアップで展開。
- 付箋はToDoタブ・タスクでも同様に表示。ToDoタブでは付箋の色・内容をホバーで確認可能。

---

## 133. イベント・祝日のグループ化

- イベントはユーザーが自由にグループを作成・解体・並べ替え可能。
- 祝日およびアーカイブ済みイベントグループは解体不可。
- グループ単位でカラー設定が可能。親グループの色変更は含まれるイベントに上書き可能だが、変更時は確認ダイアログ表示。
- グループや個々のイベント左端に細い線状の色を付けて視認性向上。

---

## 134. イベントの並び替えとドラッグ＆ドロップ

- イベントリストはドラッグ＆ドロップによる並び替えが可能。
- グループの外に祝日やアーカイブ済みイベントを出せない制限あり。
- アーカイブ済みの単発イベントは未来日程に変更、またはループ設定変更時に自動的にイベント一覧に戻る。

---

## 135. イベント名・日付の重複対応

- イベント名称が完全一致した場合、選択肢としてどちらかを優先・採用する動作を推奨。
- 名称は異なるが日程が同一のイベントは両方残す動作を推奨。

---

## 136. 連続日イベントの名称表示

- 複数日連続イベントは表示中の期間範囲に応じ、中央付近のセルにのみ名称を表示。
- 毎日表示するのは避け、視認性・デザイン性を保つ。

---

## 137. スマートフォン対応

- 表示幅が狭いモバイル端末では、付箋枚数のまとめ表示や一部表示省略を優先。
- 項目名の表示を優先し、UIのゴミゴミ感を防止。

---

## 138. イベントの強調表示と色設定

- イベントと祝日の強調度はユーザーがプリセットに従い自由に決定可能。
- ユーザーによる一括カラー変更も可能（祝日、イベントそれぞれグループ単位で）。
- カレンダー日付セルは文字表示が難しい場合、セル下部のカラー帯で表示。
- 文字表示が可能な場合はフェードイン／アウト効果で滑らかに文字表示。

---

## 139. タスクバーとToDoタブのデータ連携

- ガントチャートタブのタスクバー表示とToDoタブのタスク内容は完全同期。
- 片方で変更したタスク内容は即時もう一方に反映される。
- タスク編集画面・設定項目は両タブで同一仕様。

---

## 140. タスクバーの表示仕様

- タスクバーはガントチャート上に細長い長方形で表示。
- タスクバー内部へのメモ表示は行わない（視認性とデザイン性確保のため）。
- タスクバーの外枠はプリセットにより設定可能（枠の太さ、線種、色）。
- 外枠はデフォルトでは無し。開発者向け管理画面で枠パターンを編集・追加可能。
- プリセット更新はプロジェクトチーム単位で反映。

---

## 141. ToDoタブのタスク表示

- ToDoタブでは各タスクを余裕をもって表示。
- タスク長方形内部の中央部に複数の簡易チェックボックスを並べて表示（左上ではなく内部中央）。
- タスクの右上にメモアイコンを配置し、クリックまたはホバーで詳細メモを表示可能。
- タスク名やタグは見やすい位置に配置し、UIの余白と調和。

---

## 142. タスクタグと付箋の表示優先度

- タグは付箋より優先して表示。
- 付箋は複数貼付可能で、ToDoタブとタスクバー両方で付箋の色を表示。
- ホバー時に付箋の内容をポップアップ表示。

---

## 143. タスクのカラーリングと外枠デザイン

- タスクカラーはユーザーまたはプリセットで指定。
- 薄いパステルカラーの視認性向上のため、外枠の太さ・線種（実線・破線）を管理画面で選択可能。
- 外枠色はタスクカラーに準じて自動または手動設定。

---

## 144. タスク編集時の注意点

- 編集中のタスクは、変更内容が消失しないよう編集中のUIの状態保持に注意。
- タスクの複数プロパティ（名称、日程、タグ、付箋、チェックボックス状態など）は同期可能。

---

## 145. タスクとイベントの区別

- タスクは「ToDo・作業進行」の意味合いを持つ。
- イベントは祝日や特別な日付・記念日など期間を示す。
- タスクとイベントはカレンダー上では別表示となるが、双方共にカレンダーの日付セルに情報を反映可能。

---

## 146. ユーザーインターフェースの使いやすさ

- タスクの簡易チェックボックスは誤操作防止のため適切な大きさ・間隔を確保。
- メモアイコンや付箋の表示は視認性を損なわないようデザイン。
- タスク名・タグの文字サイズ、配置はカレンダーのスケールに連動し調整。

---

## 147. メンバータブの基本構成

- メンバータブはヘッダー下に配置されるタブの一つ。
- 左から二番目のサイドバーはメンバーリスト表示に使用。
- メンバーリストは各メンバーの役職ラベルを表示。
- メンバー名はクリック可能で、展開するとそのメンバーがアサインされているプロジェクト一覧を表示。
- メンバーごとのタスクはプロジェクト内でアサインされたもののみ表示。関係ないタスクは表示しない。

---

## 148. メンバーのタスク表示とカレンダー連携

- 各メンバー行の右端にタスク量を示すヒートマップを表示。
- ヒートマップはメンバーのキャパシティ計算に基づき、タスク負荷の視覚的把握を支援。
- メンバータブはカレンダーと連動し、全員の空き日を一目で確認可能な機能を実装。
- メンバーのタスク表示は縦に展開（タスクフォグ）で、行全体にわたる表示が可能。

---

## 149. メンバーイベントの取扱い

- メンバーが設定した個人イベントはカレンダーの各自日付セルに表示されるが、メンバータブには表示しない。
- イベントは祝日と同様に特定期間の扱いで、チーム共有はしない。
- 個人イベントは本人のみ閲覧・編集可能。

---

## 150. メンバータブ内の操作と機能

- メンバーリストから直接「個人設定（通知・テーマなど）」画面に遷移できる導線を設置。
- 個人設定画面では、通知設定やテーマ切替、個人のイベント管理が行える。
- 役職ラベルは管理者権限により編集・設定可能。

---

## 151. ユーザーインターフェースの留意点

- メンバーリストの展開・折り畳みはスムーズなアニメーション付き。
- ヒートマップ色は視認性を考慮したパレットを使用し、過負荷を赤系、余裕を青系で示す。
- メンバーの行の高さはタスク表示量に応じて動的調整。
- メンバータブの左側にあるサイドバーは、メンバー選択のためのナビゲーションを担う。

---

## 152. 仕様の補足

- メンバーごとのタスクとプロジェクトの関係は一方向（メンバー→プロジェクト→タスク）で明確に分離。
- メンバータブで表示するタスクは、ユーザーの権限に応じてフィルターが可能（例：自分のタスクのみ表示など）。
- メンバー情報の更新はリアルタイムで反映され、複数ユーザーでの同時編集にも対応。

---

## 153. 祝日・イベント管理の概要

- 祝日およびイベントは「イベントリスト」に統合管理される。
- 祝日はイベントリスト内で「祝日」グループに属し、まとめて管理される。
- ユーザーは祝日・イベントの追加・編集・削除が可能。
- 複数日に渡る連続祝日やイベントの設定に対応（例：ゴールデンウィークのような複数祝日をひとまとめに設定可能）。

---

## 154. 祝日プリセットとユーザーカスタマイズ

- 初期状態で日本の祝日プリセットが用意されている。
- ユーザーは海外祝日プリセットの選択も可能。
- 祝日のカラーリングはプリセットごとに設定済みだが、ユーザーは個別祝日や祝日グループ全体の色をカスタマイズ可能。
- 祝日の追加・削除はチェックボックス式のインターフェースで容易に行える。
- 祝日の名称編集も可能。

---

## 155. イベントグループ管理

- ユーザーはイベントグループを自由に作成・解体・並び替え可能。
- グループ内のカラー設定は「上書き優先」だが、上書き前に「親グループのみ変更」か「含まれる全イベントも変更」かの確認ダイアログを表示。
- グループ・個別イベント共に左端に薄い色付きの線を表示し視認性を向上。
- 「祝日」と「アーカイブ済み」グループは解体不可、グループからの移動も禁止。

---

## 156. イベントの表示制御

- カレンダー表示ではイベント・祝日を基本的にすべて表示。
- イベント・祝日の表示・非表示は、リストの左側にあるチェックボックスで個別に切り替え可能。
- アーカイブ済みイベントは薄い色で表示し、必要に応じて表示・非表示設定ができる。
- ループ（繰り返し）イベントは非表示設定が可能。

---

## 157. 付箋とタグの管理

- イベントには付箋を1枚ずつ色指定して付けられる。複数付箋の場合は複数アイコンで表示。
- 付箋アイコンの表示数が画面幅を超える場合は「＋〇枚」と表示し、ホバーで詳細を表示。
- タグは付箋より表示優先度が高く、イベント名の下部に小さく表示。
- イベントや祝日のリスト上でも付箋の色と内容がホバーで確認可能。

---

## 158. イベントの重複・重複検知

- イベント・祝日の名称が完全一致する場合、重複回避のためどちらかを選択することを推奨。
- 日程のみ重複し名称が異なる場合は双方表示。
- イベント提案時は、受信者が既存の同日・同名称イベントを比較・確認できるUIを提供。

---

## 159. イベント提案・共有機能

- プロジェクトチームやグループ内でイベント・祝日提案が可能。
- 提案は送信者が自分のイベントリストから選択、もしくは新規作成してチェックを入れる形で送信。
- 受信者は通知アイコンから提案を確認し、受け取りを選択可能。拒否もできるが、受け取り許可の事前設定は不要。
- 提案されたイベントは受信者の既存イベントと比較し、類似イベント表示機能を備える。

---

## 160. イベント表示のアニメーション

- 日付セルの下部にカラー表示し、文字表示はスペースに応じて自動的にフェードイン・フェードアウト。
- フェードイン・アウトは滑らかに行い、表示切り替え時の違和感を抑制。
- 複数日連続イベントは、表示期間内の中央付近にのみ名称を表示し、過剰表示を避ける。

---

## 161. 祝日・イベントカレンダー設定UI

- カレンダー部から簡単に祝日設定の追加・削除が可能。
- 祝日・イベントリストはドラッグ＆ドロップで順序入れ替え可能。ただし「祝日」と「アーカイブ済み」は順序変更不可。
- 設定画面は直感的なチェックボックス・編集フォームを基本とし、複数日連続設定やグループ化もサポート。

---

## 162. タスクバー表示仕様

### 162.1 表示内容と配置
- タスクバーはガントチャート上で期間を示す細長い長方形として表示される。
- タスクバーのカラーはプリセットやユーザー指定のカラーパターンに基づく。
- パステルカラーが好まれるが視認性向上のため、タスクバーは薄い外枠（実線・破線・太さ選択可能）で囲まれる仕様。外枠のデフォルトは「なし」。
- 外枠パターン・色は開発者用管理画面で設定。プロジェクトチーム単位でのプリセット適用・更新反映をサポート。

### 162.2 メモ表示
- ガントチャート上のタスクバーにはメモ表示は行わない（視認性とデザイン性重視のため）。
- メモはToDoタブで表示し、タスクの右上にメモアイコンを配置。

### 162.3 チェックボックス配置
- タスクの簡易チェックボックスはタスクバー内部の中央部分に配置し、複数並べて表示可能。

---

## 163. ToDoタブのタスク表示仕様

### 163.1 レイアウト
- タスクを余裕を持って表示できる長方形領域内に配置。
- タスク名、タグ、メモアイコン、簡易チェックボックスを表示。
- チェックボックスはタスク内部中央に複数表示可能。

### 163.2 メモアイコン
- 右上に配置し、クリック・ホバーで詳細メモを確認可能。

### 163.3 タグ表示
- タグはタスク名の下に小さく表示。付箋より優先して視認される。

---

## 164. イベント・祝日リストのUI設計

### 164.1 表示形式
- 横長のリスト形式で上から下に並べる。
- 各項目の左側に「カレンダー表示の有無」を切り替えるチェックボックスを設置。
- 右端にメモアイコンを配置し、クリックで詳細表示。

### 164.2 表示優先度
- タグは付箋より表示優先度が高い。

### 164.3 表示幅による調整
- 画面幅が狭い場合（モバイルなど）は付箋表示を省略し、タスク名の視認性を優先。
- 「付箋〇枚…」のスマート表示は動的に決定。

---

## 165. タブ配置およびサイドバー構成

### 165.1 タブ構成
- ヘッダー下に以下タブを横並びで配置
    - ガントチャートタブ
    - メンバータブ
    - ToDoタブ
    - リストタブ
    - プロジェクトチームタブ

### 165.2 サイドバー構成
- 最左サイドバー：ホームボタン、プロジェクトチーム一覧。
- 左から二番目のサイドバー
    - ガントチャートタブ時：プロジェクト一覧を表示。プロジェクトごとにタスクバーの一部として表示。
    - メンバータブ時：メンバーリスト表示。

---

## 166. メンバータブ仕様の概要

### 166.1 メンバー表示
- メンバーごとに抱えているタスクの量をヒートマップで可視化。メンバー行の右端に薄い色で表示。
- メンバーをクリックすると担当プロジェクトとアサインタスクを展開。
- アサインされていないプロジェクトのタスクは表示されない。

### 166.2 メンバーのスケジュール表示
- メンバータブ上でカレンダーと連携し、全員の空き時間を一目で把握可能。

### 166.3 タスクフォグ
- メンバーの行全体をカバーする形で表示。

### 166.4 役職ラベル表示
- メンバー名の横に役職ラベルを表示。

---

## 167. 祝日およびイベントのカラーリング仕様

### 167.1 祝日カラー設定
- 祝日は個別にユーザーがカラー指定可能。
- 複数祝日をまとめて一括カラー変更もできる。
- 祝日イベントの強調度はプリセットに基づくが、最終的な強調色はユーザーが決定する。
- 祝日はイベントリスト内で「祝日」グループにまとめられ、グループ化された祝日は解体不可。

### 167.2 イベントカラー設定
- イベントはユーザーが自由にグループ化可能。
- グループごとに一括でカラー設定・変更ができる。
- 個別イベントの色を一括変更すると個別設定は上書きされる。
- グループやイベントには左端に薄い線で色が付けられ、視認性向上を図る。

### 167.3 カラー変更時の確認
- カラー一括変更時は「親グループのみ」「含む全イベント」のどちらかを選択する確認ダイアログを表示。

---

## 168. イベント・祝日のリスト管理

### 168.1 リストの並び替え
- ドラッグ＆ドロップで並び替え可能。
- 「祝日」グループと「アーカイブ済み」グループは移動・解体不可。
- アーカイブ済みの単発イベントは日程変更やループ設定により自動的にアーカイブからリストに戻る。
- 戻る際にユーザーの編集中の状態が失われないよう工夫。

### 168.2 イベントの表示制御
- ループイベントは次回開催日を表示し続け、常にリストに残る。
- 日付セルには文字を表示しづらいため、基本的にはセル下部のカラーで示し、ホバー時に詳細を表示。
- スケールが十分広い場合は文字表示も滑らかにフェードイン・アウト。

### 168.3 複数日のイベント
- 複数日連続イベントは期間の中央付近に名称を表示。
- 毎日名称を表示し続けることは避ける。

---

## 169. イベント・祝日の提案機能

### 169.1 提案の流れ
- プロジェクトチーム内メンバーが独自祝日やイベントをチェックボックスで選択し、提案可能。
- 既存イベントから選ぶか新規作成して提案できる。
- 受信者はヘッダーの通知アイコンから提案内容を確認し、受け入れるイベントを選択。

### 169.2 受け取り許可
- 受け取り拒否設定は存在せず、通知を見て受け入れ判断をする形。
- 提案イベントと自身の既存イベントは同時に閲覧可能で、重複日程や名称が一目でわかるUIを提供。
- 提案イベントクリック時に近隣のイベントが表示され比較しやすい。

---

## 170. イベントと祝日の表示優先度とフィルタリング

### 170.1 表示優先度
- タグは付箋より優先して表示。
- 祝日・イベント・付箋は色分けおよび表示優先度に応じてレイアウト。

### 170.2 非表示設定
- ユーザーは任意にチェックボックスで表示・非表示を切り替え可能。
- 過去のイベントや祝日は色を薄く表示する設定も可能。

### 170.3 アーカイブの表示制御
- アーカイブ済みイベントはチェックを外さない限りカレンダーに表示され続ける。
- 表示を完全に消したい場合は削除が必要。

---

## 171. 付箋の仕様

### 171.1 付箋の色
- 付箋1枚に対し1色割り当てる。
- 複数付箋がある場合は複数の付箋アイコンを色分けして表示。
- 表示スペース不足時はカーソルホバーで「他○枚の付箋…」と表示。

### 171.2 付箋の表示場所
- タスクバー内の付箋表示は行わない。
- ToDoタブなど詳細表示が可能な部分に付箋色と内容を表示。
- ホバーで詳細ポップアップ表示。

---

## 172. タスクバー表示の基本仕様

### 172.1 タスクバーの基本構造
- タスクバーはガントチャート上に表示される横長のバー。
- タスク名は可能な範囲でバー内に表示。ただし、セル幅が狭い場合は表示されず、色のみで認識。
- タスクバーはプリセットまたはユーザー指定のカラーで塗りつぶし。
- パステルカラーは視認性が低いため、開発者用管理画面にて「外枠（線）」を薄く付けられる仕様を実装。  
  - 外枠の太さ、線種（実線・破線など）、色をプリセットごとに設定可能。
  - デフォルトは「外枠なし」。

### 172.2 タスクバー内のUI要素配置
- タスク内部に簡易チェックボックスを中央付近に複数配置（ToDoタブ同様）。
- メモアイコンは表示しない（デザイン上の理由でメモはToDoタブに集約）。
- 付箋アイコンは表示しない（付箋表示はToDoタブに限定）。
- タスクバーにカーソルホバー時はツールチップ等で詳細を確認可能。

---

## 173. ToDoタブにおけるタスク表示仕様

### 173.1 ToDoタブの特徴
- タスクの詳細情報を広く表示可能なため、メモや付箋、チェックボックスを豊富に表示。
- タスクの簡易チェックボックスはタスク内部の中央部分に複数設置し、直感的な操作を可能にする。
- メモアイコンはタスク右上に配置し、クリックまたはホバーで内容を閲覧・編集可能。

### 173.2 タスク内容の同期
- ガントチャートタブのタスクバーとToDoタブのタスク内容は完全同期。
- 片方で変更した内容は即座に他方にも反映。
- 編集画面の項目は両方で同一仕様。

---

## 174. イベント・祝日リストタブ表示仕様

### 174.1 リスト構造
- イベント・祝日は横長のリスト形式で上から順に並ぶ。
- 各項目の左側に「カレンダーの日付セルに表示するかどうか」のチェックボックスを配置。
- 項目内右端にメモアイコンを配置し、クリックで詳細確認・編集可能。
- タグは付箋よりも優先して項目名の下部に小さく表示。

### 174.2 付箋表示制御
- 付箋の枚数表示は表示幅に応じて動的に調整。
- モバイル端末など表示幅が狭い場合は付箋アイコンの表示を省略し、項目名表示を優先。

---

## 175. タブのUI配置仕様

### 175.1 ヘッダー下のタブ配置
- ガントチャートタブ、メンバータブ、ToDoタブ、リストタブ、プロジェクトチームタブは横並びでヘッダー直下に配置。
- 各タブの切り替えはクリック操作。

### 175.2 サイドバー構造

#### 最左サイドバー
- ホームボタン
- プロジェクトチーム一覧（各チームの表示・切り替え）

#### 左から二番目サイドバー（タブによる内容変化）
- ガントチャートタブ時：プロジェクト一覧を表示。  
  - プロジェクトごとに右側にタスクバーが表示される。
- メンバータブ時：メンバー一覧を表示。  
  - 各メンバーをクリックすると担当しているプロジェクトが展開表示される。

---

## 176. メンバータブ詳細仕様

### 176.1 メンバー一覧表示
- メンバー名、役職ラベルを表示。
- メンバー毎の担当タスクはクリック展開で表示。
- 担当タスクはアサインされているもののみを表示。無関係タスクは非表示。

### 176.2 ヒートマップ表示
- メンバーリスト右端に、タスク量・負荷に応じたヒートマップ表示を薄い色合いで表示。
- ヒートマップはキャパシティ計算に基づく。
- メンバー全員の空き状況を一目で確認できるよう、カレンダー表示と連動。

### 176.3 タスクフォグ機能
- メンバー行の全体にわたりタスクの分布を視覚的に示す。

---

## 177. 個人設定への導線について

### 177.1 個人設定遷移
- メンバータブ内に個人設定（通知・テーマ等）への導線を配置。
- 目的はユーザーがすぐに自身の設定画面にアクセスできるようにするため。
- 導線はユーザーアイコンや名前の隣に小さな設定アイコンとして設置。

---

## 178. タスク編集操作仕様

### 178.1 タスク編集基本動作
- タスク名、開始日、終了日、担当メンバー、タグ、メモ内容などの編集が可能。
- 編集はタスクバー（ガントチャート）およびToDoタブ両方から可能で、双方向同期。
- 編集時は即時保存で反映。誤操作防止のためにキャンセル機能を設ける。

### 178.2 タスクドラッグ操作
- ガントチャート上のタスクバーはドラッグ＆ドロップで日程変更が可能。
- ドラッグ中は他タスクや日程セルとの重複や矛盾をリアルタイムに警告。
- 変更確定時に履歴としてログ保存。

### 178.3 タスクチェックボックス操作
- ToDoタブ内部に配置した複数のチェックボックスは、タスクの進捗や細分化したサブタスクに対応。
- チェック状態は同期され、完了状態に応じたタスクバーの表示変更（色や透過など）を行う。

---

## 179. メモ機能仕様

### 179.1 メモの役割
- タスクやイベントに紐づく補足情報を記録・閲覧可能。
- ガントチャートタスクバー上では表示せず、ToDoタブのメモアイコンから操作。

### 179.2 メモ表示・編集
- メモアイコンをクリックまたはホバーすると簡易ポップアップ表示。
- ポップアップ内で編集・保存ができる。
- メモ内容は複数行対応。文字数制限は設けるが十分な容量を確保。

---

## 180. 付箋機能仕様

### 180.1 付箋の特徴
- 一つの付箋には単一の色のみ割り当て可能。
- 複数付箋がある場合は、ToDoタブのタスク項目内に付箋アイコンを複数表示。
- 表示幅不足の場合は「他◯枚の付箋あり」とツールチップ表示。

### 180.2 付箋連携
- 付箋はタグよりも表示優先度が低い。
- ホバー時に簡易ポップアップで内容表示可能。

---

## 181. 通知機能仕様

### 181.1 通知概要
- ユーザーの操作やイベント発生時に通知アイコンにバッジ表示。
- 通知はタスク更新、イベント提案、受信確認、共有設定変更など多岐に渡る。

### 181.2 受け取り拒否機能
- ユーザーは通知からイベント・祝日の提案を受け取り確認後、受け入れまたは拒否を選択可能。
- 受け取り拒否は直接設定項目ではなく、通知画面の操作によって行う。
- 関係性のデリケートな場合に逃げ道を作るため、提案拒否時の説明メッセージ等で配慮。

---

## 182. 祝日・イベント提案機能仕様

### 182.1 提案の概要
- プロジェクトチームや個人間で祝日やイベントを提案可能。
- 提案者は使用中の祝日・イベントから選択、または新規作成して提案できる。
- 提案時はチェックボックス形式で複数選択が可能。

### 182.2 受信側の操作
- 通知アイコンから提案の存在を確認可能。
- 受信者は自身のイベント・祝日一覧と提案一覧を同時に比較閲覧できる。
- 同日程・同名称の重複がある場合は一目で比較でき、重複時は受け入れ・拒否の判断をサポート。
- 受け入れたイベント・祝日は自身のリストに追加される。

### 182.3 受け取り許可設定
- 受け取り許可はユーザーごとに設定項目は存在しない。
- 受信側の判断で個別に受け入れ・拒否を行う方式。

---

## 183. ユーザー設定画面仕様

### 183.1 設定画面導線
- メンバータブやヘッダーのユーザーアイコン等から個人設定画面へ遷移可能。
- 設定画面内は複数タブ構成（通知設定、テーマ設定、言語設定、祝日・イベント管理など）。

### 183.2 祝日・イベント管理
- チェックボックスによる祝日・イベントの表示・非表示切り替えが可能。
- 新規祝日・イベントの追加、既存の編集、削除ができる。
- 複数日連続設定（例：ゴールデンウィーク）や名称編集も対応。
- グループ単位でカラー設定や順序入れ替えが可能。
- 祝日プリセット（日本・海外など）からのカスタマイズ対応。

### 183.3 通知設定
- 通知の受信方法やオンオフ設定を管理。
- 提案イベントの通知受信や表示方法の設定もここに含む。

### 183.4 テーマ設定
- カレンダー、ガントチャート、ToDoなど画面全体のテーマカラー変更が可能。
- プリセットテーマとユーザー独自テーマの切り替え。

### 183.5 言語設定
- 日本語、英語切り替えなど多言語対応。
- カレンダー月表示の表記フォーマットもここで設定。

---

## 184. 日付セルの基本表示仕様

### 184.1 日付セルの構成
- 日付セルは均等幅の矩形セルとして表示。
- セル内には主に日付番号の表示。
- 文字数制限が厳しいため、文字情報の表示は最小限に抑える。

### 184.2 色付け・装飾
- 祝日や週末はデフォルトプリセットのカラーリングで色付け。
- ユーザーによるカスタムプリセット適用可。
- 祝日、イベントの色はセル下部に薄くバーを表示し、視認性確保。
- スケール縮小時でも色付けは必ず表示（色がまったく消えることはない）。

### 184.3 文字表示制御
- セル幅に応じて、日付番号は常に表示。
- イベント名・付箋テキストは基本非表示。
- セル幅が十分に広い場合のみ、イベント名称を文字表示（滑らかなフェードイン・アウトアニメーション付き）。
- スケール変更に応じて文字表示の切替を動的に制御。

---

## 185. ホバー時の詳細情報表示

### 185.1 ホバー動作概要
- カーソルが日付セルに乗った際、ポップアップボックスで詳細表示を行う。
- ポップアップ内容：
  - 祝日名（あれば）
  - その日のイベント一覧（名称・タグ・付箋色など）
  - イベント・祝日の詳細メモ内容（付箋の中身）
- モバイル端末はホバー不可のため、タップ時に詳細表示に切り替え。

### 185.2 ポップアップ表示制御
- 表示サイズは表示内容に応じて自動調整。
- 表示位置は画面端にかからないよう自動調整。
- ポップアップ内のテキストはスクロール可能。
- 複数イベントがある場合は一覧表示し、スクロール対応。

---

## 186. 表示のオンオフ制御

### 186.1 チェックボックスによる表示切替
- イベント・祝日のカレンダー表示有無を個別に設定可能。
- 表示設定はイベントリストや祝日管理画面にてチェックボックスで操作。

### 186.2 アーカイブイベントの表示設定
- 過去のイベント・祝日は色を薄くする設定項目あり。
- 薄色表示はデフォルトOFF、ユーザー設定で切替可能。
- アーカイブ済みイベントでも表示は継続可能（表示したくなければ削除操作を行う）。

---

## 187. スケール・拡大縮小に伴う表示挙動

- セルの縮小拡大に合わせて、下部色バーの幅を自動調整。
- 縮小時でも色分け情報が消えないよう工夫。
- 拡大時はイベント名やタグの文字が段階的に表示。
- 表示切替のアニメーションは滑らかにフェードインアウト。

---

## 188. タスクバーの基本表示

### 188.1 タスクバーの形状・配置
- ガントチャート内に横長の矩形バーとして表示。
- プロジェクトチームタブ内でプロジェクトごとにタスクがリストされ、その右側にタスクバー表示。
- タスクバーは担当メンバー単位のタスク表示タブと連動。
- タスクバーの色はプリセットまたはユーザー指定色に準拠。

### 188.2 タスクバーの枠線設定
- 開発者用管理画面で複数の枠線パターンを管理。
  - 枠線の有無、太さ、線種（実線、破線など）、枠線色を設定可能。
  - デフォルトは枠線なし。
- プロジェクトチームで採用中のプリセットに従い自動更新される。
- 枠線設定はタスクバーの視認性向上を目的。
- 枠線はカラーごとに個別指定可能。

---

## 189. タスクバー内表示要素

### 189.1 チェックボックス
- タスクバー内部の中央付近に簡易チェックボックスを横並びで表示。
- チェックボックスはタスクの状態管理用（例：進捗、完了など）。
- チェックボックスの位置は左上ではなく、視認性と操作性を考慮した中央付近。

### 189.2 メモアイコン表示
- タスクバーにはメモの直接表示は行わない（視認性確保のため）。
- ToDoタブ内でメモアイコンをタスク右上に表示し、詳細閲覧可能。

### 189.3 タスク名表示
- タスクバー内には名前表示は最小限（省スペース優先）。
- 必要に応じてタスク名はToDoタブや詳細リストで確認可能。

---

## 190. 付箋機能

### 190.1 付箋の色と表示
- 各タスク・イベントには一色のみ付箋色を割り当て可能。
- 複数付箋がある場合は複数の付箋アイコンを横並びに表示。
- 表示可能幅が足りない場合は「＋〇枚」の簡易表示に切替え、ホバーで詳細表示。

### 190.2 付箋内容の閲覧
- ホバー時に付箋内容の簡易ポップアップが表示。
- ToDoタブでも同様に付箋色・内容表示機能を実装。

---

## 191. イベント・祝日リストの表示

### 191.1 表示形式
- 横長リストが上から縦に並ぶ形式。
- 各項目左側に「カレンダー表示ON/OFF」チェックボックス設置。
- メモアイコンは右端に配置。
- タグは付箋よりも表示優先度が高い。

### 191.2 表示切替制御
- ユーザーが個別にイベント・祝日のカレンダー表示を切り替え可能。
- アーカイブ済みイベントは別グループに分類しつつ表示継続可能。

---

## 192. タブ配置とサイドバー構成

### 192.1 タブ配置
- ガントチャートタブ、メンバータブ、ToDoタブ、リストタブ、プロジェクトチームタブはヘッダー下に横並び配置。

### 192.2 サイドバー配置
- 最左サイドバーにホームとプロジェクトチーム一覧表示。
- ガントチャートタブでは左から二番目のサイドバーにプロジェクト一覧を表示。
  - プロジェクトごとに右側へタスクバーを展開。
- メンバータブでは左から二番目のサイドバーにメンバー一覧を表示。
  - メンバークリックで担当プロジェクト・タスク展開。
- サイドバーはタブに応じて内容切替。

---

## 193. メンバータブの基本構造

### 193.1 表示レイアウト
- メンバータブはヘッダー下の横並びタブ群の一つ。
- メンバーリストは左から二番目のサイドバーに縦並び表示。
- 各メンバー名と役職ラベルを表示。
- メンバーの行は上下スクロール可能。

### 193.2 メンバー詳細展開
- 各メンバーをクリックすると、そのメンバーが担当しているプロジェクトが展開表示される。
- 展開したプロジェクトの下に、そのプロジェクトにおけるメンバーのタスク一覧を表示。
- 展開されたプロジェクト以外の関連タスクはメンバータブには表示されない（＝担当しているタスクのみ表示）。

---

## 194. タスクフォグ表示

### 194.1 概要
- メンバー行の横方向（ガントチャート方向）にタスクフォグを表示。
- タスクフォグは、そのメンバーが抱えているタスクの期間を視覚的に示す。
- フォグの濃淡や色でタスク負荷を表現。

---

## 195. ヒートマップ表示機能

### 195.1 ヒートマップ概要
- メンバータブの右端にヒートマップを表示。
- ヒートマップはメンバーが抱えているタスク量に応じて色の濃淡で表現。
- タスク負荷は内部のキャパシティ計算に基づく。

### 195.2 計算方式
- キャパシティはタスク数、タスクの重み、期間などで算出。
- ヒートマップの色は負荷の低→高で段階的に変化。
- 色の基準値やレンジは仕様で定義可能。

---

## 196. 全員の空き日程の可視化

### 196.1 空き日程表示
- メンバー全員のカレンダー日付セルを横に並べたビューを提供。
- すべてのメンバーが空いている日付セルは明示的に表示（例：緑色のハイライト）。
- 空き日程ビューはスクロール可能で、長期日程にも対応。

---

## 197. メンバー個人イベントの取扱い

### 197.1 イベント表示範囲
- メンバーが設定した個人イベントはメンバータブでは表示しない。
- 個人イベントは各メンバー自身のカレンダーの日付セルでのみ表示。

---

## 198. メンバータブの導線と個人設定

### 198.1 個人設定への導線
- メンバータブからは「個人設定（通知、テーマ等）」への直接遷移導線は設置しない。
- 個人設定は別画面やメニューからアクセス可能。
- 誤操作や混乱を防ぐためメンバータブのUIからは外す。

---

## 199. ToDoタブの概要

### 199.1 基本構成
- ヘッダー下の横並びタブ群の一つ。
- タスクを一覧形式で表示。
- タスク内容の詳細表示に優れ、メモなどの補足情報も閲覧可能。

### 199.2 タスクデータの一貫性
- ToDoタブとガントチャートタブのタスクは同一データを共有。
- 一方での編集はリアルタイムに他方にも反映される。
- 編集画面・編集項目は両タブで共通仕様。

---

## 200. タスク表示仕様

### 200.1 タスクバーの表示
- ガントチャート上のタスクバーと異なり、ToDoタブは十分な表示幅があるため詳細表示可能。
- タスクバー内に簡易チェックボックスを複数並べて表示（タスクの進行状況を表す）。
- チェックボックスはタスクバー内部中央に配置し、視認性重視。

### 200.2 メモアイコン表示
- タスクの右上にメモアイコンを表示。
- ホバーまたはクリックでメモの詳細を表示。
- メモはタスクに付随し、編集可能。

---

## 201. タスクタグの表示

### 201.1 タグの配置
- タスク名の直下に小さくタグを表示。
- タグは付箋よりも表示優先度が高い。

---

## 202. タスクカラーと外枠設定

### 202.1 プリセットカラーと外枠
- タスクカラーはプリセットに基づく。
- プリセット内には複数のパターンを持ち、パターンごとにカラー、外枠の太さ、線種、色を設定可能。
- 外枠はデフォルトはなし。薄い実線や破線等から選択可能。
- 開発者がプリセットを編集し、変更は全プロジェクトチームに自動反映。

### 202.2 カラー更新と上書き動作
- プリセット更新時、プロジェクトチーム単位でカラー・外枠が更新される。
- 個別タスクのカラー上書きはプリセット更新後に失われる場合がある。

---

## 203. ToDoタブの操作性

### 203.1 ドラッグ&ドロップ対応
- タスクの並び替えはドラッグ&ドロップで直感的に行える。
- 並び替えはユーザー単位で自由に設定可能。

---

## 204. 付箋表示との連携

### 204.1 付箋アイコンと色表示
- タスクに付箋が貼られている場合、付箋アイコンを表示し、色を付箋の色で表示。
- 複数付箋がある場合は付箋アイコンを複数表示。
- 表示幅不足時は「付箋○枚」と表示し、ホバーで詳細を表示。

---

## 205. イベント・祝日リストの基本構成

### 205.1 表示形式
- 横長リスト形式で、上から下に並ぶ。
- 各項目はイベントまたは祝日を表す。
- 左端にカレンダーの日付セルへの表示/非表示を切り替えるチェックボックスを配置。

### 205.2 メモアイコン
- 各項目の右端にメモアイコンを配置。
- ホバーまたはクリックでメモ内容を表示・編集可能。

### 205.3 タグ表示
- 項目名の下部に小さくタグを表示。
- タグは付箋よりも表示優先度が高い。

---

## 206. イベント・祝日のカラー設定

### 206.1 グループ化と一括設定
- イベントは任意でグループ化可能。
- 祝日は「祝日」グループに自動的に分類される。
- グループごとにカラーの一括変更が可能。
- 個別イベントのカラー上書きはグループカラー変更時に失われる場合がある。

### 206.2 強調度のプリセット
- 祝日イベントの強調度はプリセットに従うが、強調色はユーザーが決定可能。
- 強調色はイベント・祝日共にユーザー設定優先。

---

## 207. イベント・祝日のソート・表示制御

### 207.1 ループイベントの表示切替
- ループ（繰り返し）設定されたイベントはソート機能にて非表示設定可能。

### 207.2 表示幅による表示内容制御
- 日付セルの幅に応じて表示内容を調整。
- 文字数が収まる場合は名称表示。
- 収まらない場合はセル下部のカラーで表現。
- カーソルホバー時に詳細をポップアップ表示。

### 207.3 複数日連続イベント
- 表示期間に合わせてイベント中央付近に名称を表示し、全日表示は避ける。

---

## 208. イベント・祝日の編集と管理

### 208.1 祝日の編集機能
- チェックボックスで祝日の追加・削除が可能。
- 祝日名称の編集や複数日連続設定ができる。
- 祝日グループは解体不可。

### 208.2 アーカイブ済みイベント
- 過去イベントは「アーカイブ済み」グループに自動振り分け。
- ループ設定や未来日程変更で自動的にアーカイブからイベント一覧に復帰。
- アーカイブグループも解体不可。
- 表示色は薄くする設定あり。

### 208.3 グループのドラッグ&ドロップ
- ユーザーはグループの並び替えをドラッグ&ドロップで自由に操作可能。
- 祝日・アーカイブ済みグループは外に出せない制約付き。

---

## 209. 付箋と色表示

### 209.1 付箋アイコンの表示
- イベント・祝日項目に貼られた付箋はカラーアイコンで表示。
- 複数付箋は複数アイコンで表示。
- 表示幅が不足する場合は「付箋〇枚」と表示し、ホバーで詳細表示。

---

## 210. イベント・祝日の受け取り提案機能

### 210.1 機能概要
- ユーザーは、自身が設定した祝日やイベントをチームメンバーや他ユーザーに提案可能。
- 提案時に既存のイベントや祝日から選択、または新規作成して提案できる。
- 提案リストに複数チェックを入れて一括送信可能。

### 210.2 受信側の操作
- 受信者は通知アイコンから提案の受信を確認可能。
- 提案リストを開くと、自身の既存イベント・祝日一覧も同時に表示。
- 同日程や同名称のイベントがある場合は一目で比較可能。
- 受け入れたい提案のみチェックして承認可能。
- 受け取り許可の設定項目は存在せず、任意の受信選択のみ。

---

## 211. 受け取り拒否と人間関係配慮

### 211.1 受け取り拒否の必要性
- 受け取り拒否は必要不可欠だが、利用者間の人間関係に配慮した設計が求められる。
- 例：部下が上司からの提案を控えめに拒否しやすい仕組み。

### 211.2 案1: 提案拒否時の匿名化コメント機能
- 拒否理由を匿名で伝える簡易コメント機能を用意。
- 送信者にはコメントのみ伝わり、個人名は伏せられる。

### 211.3 案2: 一時的非表示モード
- 受信者は提案を一時的に非表示（スヌーズ）できる。
- 一定期間後に再表示されるため、完全拒否ではない緩やかな対処。

### 211.4 案3: 部分承認・段階的承認
- 提案内容の一部のみ受け入れ可能。
- 提案送信者には承認状況がわかる仕組み。

---

## 212. 共有イベント・祝日の管理

### 212.1 共有範囲の指定
- イベント・祝日の共有範囲は個人、チーム、全社など階層的に設定可能。
- 共有範囲ごとに表示・編集権限が異なる。

### 212.2 変更通知
- 共有イベント・祝日の更新時、関連ユーザーに通知が届く。
- 変更履歴は記録され、履歴閲覧が可能。

---

## 213. タスクバーの基本表示仕様

### 213.1 表示領域
- ガントチャート上のタスクバーは横長の細長い長方形で表示。
- タスクバー内にメモの直接表示は行わない（デザイン性維持のため）。
- タスクバーはプリセットまたはユーザー設定に基づくカラーリングを適用。

### 213.2 外枠設定
- 開発者が管理画面で定義したプリセットパターンに基づく枠線設定を適用可能。
- 枠線は太さ・線種（実線・破線等）・色を管理画面で指定可能。
- デフォルトは枠線なし。
- プリセット更新時、対応プロジェクトチームのタスクバーが自動で更新。

### 213.3 視認性向上策
- パステルカラーの視認性を補うため、枠線で輪郭を明確化。
- 各タスクバーの左端に、薄く線で色付けを行い、視認性を向上させる。

---

## 214. ToDoタブとタスク内容の連携

### 214.1 タスク内容の一貫性
- ガントチャートタブのタスクバー表示内容とToDoタブのタスク内容は完全同期。
- どちらかでの編集は即座にもう一方に反映される。

### 214.2 ToDoタブの表示仕様
- タスク内容はToDoタブで余裕をもって表示。
- タスク内に簡易チェックボックスを内部中央に複数並べて表示可能（ステータス管理等）。
- メモアイコンはタスクの右上に配置し、クリックやホバーで詳細を閲覧可能。

### 214.3 タスク内容編集
- タスク内容編集UIは両タブで同一仕様とし、操作性を統一。
- 編集内容はリアルタイム同期。

---

## 215. イベント・祝日リストの表示仕様

### 215.1 リスト構造
- イベント・祝日は横長のリストで上から縦に並ぶ。
- 各項目左側に「カレンダーに表示するかどうか」を決定するチェックボックスを配置。

### 215.2 アイコン配置
- メモアイコンは項目内の右端に配置。
- タグは付箋より優先度高く表示。項目名の下部に小さく表示。

### 215.3 付箋の表示
- 付箋はアイコン表示に加え、色を示す小さなラベルを付けて即時視認可能に。
- 付箋複数の場合は複数アイコン表示、画面幅不足時はカーソルホバーで省略表示。

### 215.4 表示優先度
- 項目名の表示を優先し、モバイルなど狭い表示環境では付箋アイコンを省略可能。

---

## 216. メンバータブの基本構成

### 216.1 メンバーリスト表示
- 左側から二番目のサイドバーにメンバー一覧を表示。
- 各メンバーには役職ラベルを付与し表示。
- メンバーごとに担当タスク数と負荷を示すヒートマップを右端に配置。

### 216.2 担当タスク展開
- メンバー名をクリックすると担当しているプロジェクトが展開表示される。
- 展開後は、そのプロジェクト内でメンバーがアサインされているタスクのみが表示される。
- メンバータブでは、かかわりのないプロジェクトやタスクは非表示。

---

## 217. ヒートマップ機能

### 217.1 キャパシティ計算
- ヒートマップはメンバーのタスク負荷に基づいて色付け（負荷が高いほど色濃く表示）。
- 負荷計算はタスクの作業量・期間等を基に実施。

### 217.2 視覚表示
- ヒートマップはメンバーリストの右端に縦長で薄く表示し、一覧性を確保。
- ヒートマップの色はプリセットのカラーセットに準拠。

---

## 218. メンバーのカレンダー連携

### 218.1 予定の表示
- メンバー固有のイベント（誕生日など）や祝日はカレンダーの日付セルに表示。
- メンバータブには個別イベントは表示されず、個人が自身のカレンダーで確認可能。

### 218.2 全員の空き時間確認
- メンバータブでメンバー全員の予定を照合し、全員が空いている日程を一目で把握可能。
- カレンダーの日付セルに、全員空きの日には専用の目立つマークや色付けを行う予定。

---

## 219. タスクフォグの実装

### 219.1 表示方式
- タスクフォグはメンバー行全体にわたって表示される。
- メンバーの行を縦方向に覆い、負荷が高い部分を色の濃淡で示す。

### 219.2 効果
- タスクフォグにより、忙しい日程が視覚的に一目瞭然となる。
- メンバータブのヒートマップと連携し、タスク分布の把握に役立つ。

---

## 220. メンバータブの設定・遷移

### 220.1 個人設定への導線
- メンバータブから、個人設定（通知・テーマなど）への導線はヘッダーの通知アイコンやプロフィールメニューから行う。
- メンバータブ内に直接の個人設定リンクは設置しない。

---

## 221. 祝日・イベントの基本設計

### 221.1 祝日・イベントの扱い
- 祝日・イベントは「イベント一覧」に統合管理される。
- 「祝日」はイベントの一種としてグループ化され、ユーザーが一括管理可能。
- アーカイブ済みイベントも同様にグループ化し、過去のイベントとして管理。

### 221.2 ユーザーによるカスタマイズ
- ユーザーは祝日およびイベントを自由に追加・削除・編集可能。
- 祝日は名称変更、複数日をまとめてグループ化（例：ゴールデンウィーク）できる。
- イベントはタグ付け、付箋カラー設定、簡易チェックボックス付与が可能。

---

## 222. 祝日・イベントのカラーリング

### 222.1 デフォルトとカスタムプリセット
- アプリには祝日やイベントのカラーリングに関するいくつかのデフォルトプリセットを用意。
- ユーザーはこれらを元に、曜日別や祝日別にカラーをカスタマイズ可能。
- 祝日やイベントグループ単位で一括カラー変更ができる。

### 222.2 表示仕様
- 日付セルの下部にカラー表示を行う方式を基本とし、文字表示はセル幅に応じてフェードイン・アウトで行う。
- モバイル端末などスペースの狭い環境では文字表示は省略し、色の表示を優先。

---

## 223. 祝日・イベントの並び替え・ドラッグ＆ドロップ

### 223.1 グループの操作制限
- 「祝日」グループと「アーカイブ済み」グループは解体不可で、グループ外へ要素を移動不可。
- 他のユーザー作成のイベントグループは自由に作成・解体・並び替え可能。

### 223.2 並び替え仕様
- ユーザーはイベント一覧をドラッグ＆ドロップで並び替え可能。
- グループ内でのカラー一括変更時は確認ダイアログを表示。

---

## 224. ループ（繰り返し）イベントの仕様

### 224.1 継続管理
- ループするイベントは次回開催日を常時保持し、表示は次回予定日のみ。
- 連続した予定は内部的に全日程を管理し、カレンダー表示も反映。

### 224.2 アーカイブ復帰
- ループイベントが未来の予定日に変更された場合、自動的にアーカイブから通常のイベントリストへ復帰。

---

## 225. 祝日・イベントの提案機能（プロジェクトチーム連携）

### 225.1 提案の仕組み
- チームメンバーは独自祝日やイベントをチェックボックスで選択し、他メンバーへ提案可能。
- 提案は送信者のイベントリストまたは新規作成イベントから選択。

### 225.2 受け取り側操作
- 受け取り側は通知アイコンから提案内容を確認。
- 既存のイベント・祝日と名称や日程が重複している場合は一括比較表示。
- 受け入れるものだけを選択して取り込む。

### 225.3 受け取り許可
- ユーザーが「受け取り許可」設定はなく、提案内容は通知から任意に受け入れる形。

---


## 226. タスクバーの表示と操作

### 226.1 タスクバー基本表示
- ガントチャート内のタスクは横長のバーで表示。
- タスクバーの色は、プロジェクトチームのプリセットカラーに準じる。
- タスクバーの外枠は開発者用プリセットで指定可能（線の太さ・色・線種を管理画面から設定）。
- デフォルトの枠線は無し。パステルカラー対策として枠線を設定可能。

### 226.2 メモ表示
- ガントチャートのタスクバー上にはメモ表示は行わない。
- メモはToDoタブにて、タスクの右上にメモアイコンを表示し、詳細閲覧可能。

### 226.3 タスク内部チェックボックス
- ToDoタブでは、タスク長方形内中央部に簡易チェックボックスを複数並べて表示可能。
- チェックボックスはタスクの進捗管理や簡易完了管理に利用。

---

## 227. ToDoタブの仕様

### 227.1 タスク情報表示
- ToDoタブではタスクの詳細情報（メモ含む）を余裕をもって表示。
- タスクの編集はToDoタブおよびガントチャートタブで同期され、どちらかで行った変更は即時反映。

### 227.2 メモアイコン配置
- タスク右上にメモアイコンを配置し、クリックやホバーで内容を閲覧・編集可能。

---

## 228. イベント・祝日リストの表示設計

### 228.1 リスト構成
- イベント・祝日は横長リスト形式で上から縦に並ぶ。
- 各項目の左側に「カレンダー表示・非表示切り替え」用のチェックボックスを配置。

### 228.2 メモ・タグ表示
- 項目内の右端にメモアイコンを配置。
- タグ表示は付箋より優先し、イベント名の下部に小さく表示（必要に応じてデザイン調整）。

---

## 229. 付箋機能と表示

### 229.1 付箋の色と表示枚数
- 付箋は1枚につき1色のみ割り当て可能。
- 複数付箋が貼られている場合は複数の付箋アイコンを表示。
- 画面サイズが狭い場合は、カーソルホバーで「他○枚の付箋あり」と表示。

### 229.2 ToDoタブとの連携
- ToDoタブでも付箋の色表示とホバーによる内容ポップアップを実装。

---

## 230. 祝日・イベントのカラーリング仕様

### 230.1 カラー設定の階層構造
- 各祝日・イベントは個別にカラー設定可能。
- 祝日グループ単位でも一括カラー変更可能。
- イベントグループ（ユーザー作成）もカラー一括変更可能。
- カラー変更時は「親グループのみ変更」か「含まれるすべてのイベント変更」か確認ダイアログ表示。
- 個別イベント色を一括変更すると元の個別設定は失われる。

### 230.2 カラー表示方法
- 日付セルの下部を該当カラーで塗り分け表示。
- セル幅により文字表示が難しい場合は色のみ表示。
- カーソルホバーで詳細情報をポップアップ表示。
- 色の視認性向上のため、薄い色には枠線を付けるオプションあり（プリセット設定）。

---

## 231. イベントリストの操作仕様

### 231.1 グループ化と順序管理
- イベントは「祝日」「アーカイブ済み」「ユーザー作成イベント」等のグループに分類。
- 「祝日」「アーカイブ済み」グループは解体不可・グループ内に限定して並び替え可能。
- ユーザー作成イベントグループは自由に作成・解体・順序入れ替え可能。
- グループ並び替えおよびグループ内イベントのドラッグ＆ドロップ対応。

### 231.2 イベントのアーカイブ管理
- アーカイブ済みイベントは単発イベントに限定。
- 未来の日程に変更されるか、繰り返し設定が追加されるとアーカイブからイベント一覧に自動移動。
- 移動時は編集中のイベント項目が見失われないようUI配慮。

---

## 232. イベントの重複管理

### 232.1 同日程・同名称イベント
- イベント名が完全一致の場合、重複削除や統合の選択をユーザーに推奨。
- 名前が異なるが日程が同じ場合は両方表示推奨。

---

## 233. イベントの繰り返し設定

### 233.1 ループイベントの扱い
- 毎年繰り返される誕生日や祝日は、次回開催日を常に表示。
- ループイベントはアーカイブされず、常に「生きた」状態で一覧に存在。
- 内部的には連続予定を認識し、ユーザーに次回日程をわかりやすく表示。

---

## 234. イベント・祝日の共有と提案機能

### 234.1 共有機能
- ユーザー間で独自祝日やイベントを提案可能。
- 提案は送信時に既存イベントからチェック選択、または新規作成で行う。
- 受信者は通知アイコンから提案内容を確認し、受け入れたいものだけを選択して取り込む。

### 234.2 受け取り許可
- 受け取り許可設定は存在せず、通知で提案内容を確認し自発的に受け入れる仕組み。
- 提案一覧画面で自身のイベント・祝日と比較でき、重複を一目で確認可能。

---


## 235. タスクバー表示のメモ非表示仕様

### 235.1 ガントチャート上のタスクバー
- タスクバーは横長細長のバーで表示されるため、メモアイコンは設置しない。
- メモ表示はデザイン性を損なうため排除。
- タスクバーの色や枠線で視認性・状態判別を行う。

### 235.2 ToDoタブのタスク表示
- ToDoタブではタスクを十分な面積で表示可能。
- タスクの右上にメモアイコンを配置し、クリックやホバーでメモ詳細を確認可能。
- タスク内容はToDoタブとガントチャートタブで同期し、片方の変更は即座に反映。

### 235.3 タスクの簡易チェックボックス表示
- ToDoタブのタスク内に複数の簡易チェックボックスを中央付近に水平に並べて表示。
- チェックボックスはタスク内容の進捗や状態管理に使用。

---

## 236. イベント・祝日リストのUI仕様

### 236.1 リスト表示形式
- イベント・祝日は横長リストで上から下に並ぶ。
- 各リスト項目の左側に、カレンダーの日付セルでの表示・非表示切替用チェックボックスを配置。
- 項目内の右端にメモアイコンを配置。

### 236.2 タグの表示優先度
- イベント・祝日リスト内ではタグの表示優先度は付箋より高い。
- タグは項目名の下部に小さく表示し、情報の整理に役立てる。

### 236.3 スマート表示の付箋アイコン
- 付箋アイコンは表示幅に応じて動的に変化（例：複数枚の場合は「付箋〇枚…」と表示）。
- モバイル端末のような狭い画面では付箋の表示を省略し、項目名を優先。

---

## 237. タスクバーの外枠設定

### 237.1 プリセット管理
- タスクバーの枠線は複数のプリセットパターンを用意。
- 各パターンはカラー、枠線の太さ、線種（実線、破線など）を設定可能。
- デフォルトでは枠線なし。

### 237.2 管理者権限
- プリセットの追加・削除・編集は開発者のみ実施可能。
- プロジェクトチームは開発者が編集したプリセットを適用し、変更があれば自動反映。

### 237.3 表示仕様
- 視認性を考慮しパステルカラーなど薄い色には外枠線を付与可能。
- 外枠はタスクバーごとに適用されるが、親グループカラー設定と整合。

---

## 238. メンバータブの現状仕様（再確認）

### 238.1 メンバーのタスク表示
- メンバーごとに担当タスクがリスト表示され、クリックで詳細展開可能。
- メンバータブでは、担当プロジェクト・担当タスク以外は表示されない。

### 238.2 ヒートマップ機能
- 各メンバーが抱えるタスク量・負荷をヒートマップで表示。
- ヒートマップはメンバーリストの右端に薄い色付けで表現。

### 238.3 メンバータブのカレンダー連携
- メンバー全員の空き状況をカレンダーと照らし合わせ一目で確認可能。
- 日程の重複や全員の共通空きを可視化。

### 238.4 サイドバー表示
- メンバータブでは左から二番目のサイドバーにメンバーリストが表示される。
- メンバークリックで担当プロジェクトが展開されるUI。

### 238.5 メンバー役職ラベル
- メンバー名に役職ラベルを付与し、視認性向上。

### 238.6 メンバーのイベント表示
- メンバー固有のイベントはカレンダー上にのみ表示され、メンバータブには表示しない。

---